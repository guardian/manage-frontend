import { css } from "@emotion/core";
import { neutral, news } from "@guardian/src-foundations/palette";
import React from "react";
import { Inlineable } from "./inlineable";

interface CardExpiryDetails {
  month: number;
  year: number;
}
export interface CardProps {
  last4: string;
  expiry?: CardExpiryDetails;
  type: string;
  stripePublicKeyForUpdate?: string;
}

interface CardDisplayProps extends CardProps, Inlineable {
  margin?: string;
  inErrorState?: boolean;
}

const svgStyles = css`
  display: inline-block;
  width: 35px;
  height: 22px;
  margin-right: 4px;

  svg:last-of-type {
    margin-right: 0;
  }
`;

export const cardTypeToSVG = (cardType: string) => {
  const backgroundImage: JSX.Element | undefined | null = (() => {
    switch (cardType.toLowerCase().replace(/\s/g, "")) {
      case "mastercard":
        return (
          <svg
            css={svgStyles}
            width="38"
            height="23"
            viewBox="0 0 38 23"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.1609 5.95543C19.8374 5.54347 19.466 5.17159 19.0546 4.84766C18.2707 5.46478 17.637 6.25205 17.2012 7.15012C16.7655 8.04819 16.5391 9.0336 16.5391 10.032C16.5391 11.0305 16.7655 12.0159 17.2012 12.914C17.637 13.812 18.2707 14.5993 19.0546 15.2164C19.7345 14.6811 20.3025 14.0169 20.7261 13.2618C21.1498 12.5066 21.4207 11.6753 21.5234 10.8154C21.6261 9.9554 21.5587 9.08359 21.3249 8.24971C21.0911 7.41584 20.6956 6.63624 20.1609 5.95543Z"
              fill="#FF5F00"
            />
            <path
              d="M33.8064 0.929287C34.6124 0.93124 35.3847 1.25294 35.9543 1.82393C36.5239 2.39492 36.8442 3.16865 36.8452 3.97566V19.4845C36.8442 20.2915 36.5239 21.0652 35.9543 21.6362C35.3847 22.2072 34.6124 22.5289 33.8064 22.5309H4.30346C3.4962 22.5309 2.72195 22.21 2.15079 21.6388C1.57962 21.0676 1.25825 20.2928 1.25728 19.4845V3.97566C1.25825 3.16737 1.57962 2.39253 2.15079 1.82133C2.72195 1.25012 3.4962 0.929286 4.30346 0.929287H33.8064ZM33.8064 0.652344H4.30346C3.42318 0.652344 2.57896 1.00248 1.95651 1.62572C1.33406 2.24896 0.984375 3.09426 0.984375 3.97566V19.4845C0.984375 20.3659 1.33406 21.2112 1.95651 21.8344C2.57896 22.4577 3.42318 22.8078 4.30346 22.8078H33.8064C34.6867 22.8078 35.5309 22.4577 36.1534 21.8344C36.7758 21.2112 37.1255 20.3659 37.1255 19.4845V3.97566C37.1255 3.09426 36.7758 2.24896 36.1534 1.62572C35.5309 1.00248 34.6867 0.652344 33.8064 0.652344V0.652344Z"
              fill="#999999"
            />
            <path
              d="M26.4856 18.1417C26.3927 18.1396 26.3009 18.1624 26.2199 18.2079C26.1388 18.2534 26.0714 18.3197 26.0246 18.4001V18.186H25.6558V19.9362H26.0246V18.954C26.0246 18.666 26.15 18.5035 26.3934 18.5035C26.4753 18.5035 26.5566 18.5185 26.6331 18.5478L26.7511 18.1786C26.6633 18.148 26.5712 18.1318 26.4782 18.1306L26.4856 18.1417ZM21.2009 18.1417C21.108 18.1396 21.0162 18.1624 20.9351 18.2079C20.8541 18.2534 20.7866 18.3197 20.7399 18.4001V18.186H20.3711V19.9362H20.7399V18.954C20.7399 18.666 20.8653 18.5035 21.1087 18.5035C21.1894 18.5032 21.2695 18.5182 21.3447 18.5478L21.4627 18.1786C21.3749 18.148 21.2828 18.1318 21.1898 18.1306L21.2009 18.1417ZM24.767 18.4001C24.7024 18.3166 24.6189 18.2497 24.5233 18.2047C24.4278 18.1598 24.323 18.1382 24.2175 18.1417C23.973 18.1417 23.7385 18.2389 23.5656 18.412C23.3927 18.5852 23.2956 18.82 23.2956 19.0648C23.2956 19.3096 23.3927 19.5444 23.5656 19.7176C23.7385 19.8907 23.973 19.9879 24.2175 19.9879C24.3226 19.9913 24.427 19.97 24.5224 19.9257C24.6178 19.8815 24.7016 19.8155 24.767 19.7332V19.9436H25.1358V18.186H24.767V18.4001ZM24.2618 19.6187C24.1254 19.6207 23.9936 19.5694 23.8944 19.4756C23.7952 19.3818 23.7365 19.253 23.7307 19.1165V19.0759C23.7402 18.9358 23.8043 18.805 23.9092 18.7118C24.014 18.6185 24.1512 18.5703 24.2913 18.5774C24.4242 18.5916 24.5468 18.6554 24.6347 18.7562C24.7227 18.8569 24.7695 18.9872 24.7657 19.1209C24.762 19.2547 24.7081 19.3821 24.6147 19.4778C24.5212 19.5735 24.3952 19.6304 24.2618 19.6371V19.6187ZM22.5064 18.4924C22.6716 18.4961 22.8316 18.5517 22.9637 18.6512L23.1481 18.3447C22.9717 18.1979 22.7466 18.1227 22.5174 18.1343C22.2835 18.1222 22.0542 18.203 21.8794 18.3593C21.7047 18.5156 21.5987 18.7346 21.5844 18.9688V19.0574C21.58 19.1736 21.5985 19.2896 21.639 19.3986C21.6794 19.5076 21.741 19.6075 21.8202 19.6926C21.8994 19.7777 21.9946 19.8463 22.1003 19.8945C22.206 19.9426 22.3202 19.9694 22.4363 19.9732H22.5174C22.7459 19.9843 22.9704 19.9107 23.1481 19.7664L22.9637 19.4562C22.8316 19.5558 22.6716 19.6113 22.5064 19.615C22.3752 19.5935 22.2559 19.5259 22.1698 19.4245C22.0837 19.323 22.0364 19.1942 22.0364 19.0611C22.0364 18.928 22.0837 18.7992 22.1698 18.6977C22.2559 18.5963 22.3752 18.5287 22.5064 18.5072V18.4924ZM29.3806 19.855C29.3849 19.8444 29.3849 19.8324 29.3806 19.8218C29.3838 19.8162 29.3855 19.8098 29.3855 19.8033C29.3855 19.7968 29.3838 19.7905 29.3806 19.7849C29.365 19.7795 29.3481 19.7795 29.3326 19.7849H29.2552V19.9436H29.292V19.8846L29.34 19.9436H29.3806L29.3252 19.8846C29.3363 19.8853 29.3474 19.883 29.3571 19.8777C29.3669 19.8725 29.375 19.8646 29.3806 19.855ZM29.2884 19.855V19.8107H29.3511C29.3477 19.8126 29.3439 19.8137 29.34 19.8137C29.3361 19.8137 29.3323 19.8126 29.3289 19.8107L29.2884 19.855ZM28.3074 18.4001C28.2427 18.3166 28.1592 18.2497 28.0637 18.2047C27.9682 18.1598 27.8634 18.1382 27.7579 18.1417C27.5134 18.1417 27.2789 18.2389 27.106 18.412C26.9331 18.5852 26.8359 18.82 26.8359 19.0648C26.8359 19.3096 26.9331 19.5444 27.106 19.7176C27.2789 19.8907 27.5134 19.9879 27.7579 19.9879C27.863 19.9913 27.9674 19.97 28.0628 19.9257C28.1582 19.8815 28.2419 19.8155 28.3074 19.7332V19.9436H28.6762V17.4844H28.3074V18.4001ZM27.7948 19.6224C27.658 19.6235 27.5262 19.5713 27.4271 19.4769C27.328 19.3825 27.2695 19.2533 27.2637 19.1165V19.0759C27.2695 18.9722 27.3055 18.8724 27.3672 18.7889C27.4289 18.7055 27.5138 18.6419 27.6112 18.6062C27.7086 18.5704 27.8143 18.564 27.9153 18.5878C28.0163 18.6115 28.1081 18.6643 28.1795 18.7397C28.2508 18.8151 28.2985 18.9098 28.3168 19.0121C28.335 19.1143 28.3229 19.2197 28.282 19.3151C28.241 19.4106 28.1731 19.492 28.0865 19.5492C27.9999 19.6064 27.8985 19.637 27.7948 19.6371V19.6224Z"
              fill="#231F20"
            />
            <path
              d="M29.4343 19.7304C29.4193 19.7136 29.4002 19.7009 29.379 19.6935C29.3571 19.6883 29.3344 19.6883 29.3126 19.6935C29.2883 19.6879 29.2631 19.6879 29.2388 19.6935C29.2171 19.7 29.1979 19.7129 29.1835 19.7304C29.167 19.745 29.1532 19.7625 29.1429 19.7821C29.1339 19.8037 29.1293 19.827 29.1293 19.8504C29.1293 19.8739 29.1339 19.8971 29.1429 19.9187C29.1573 19.9508 29.1806 19.9779 29.21 19.997C29.2395 20.016 29.2738 20.026 29.3089 20.0258C29.332 20.031 29.3559 20.031 29.379 20.0258C29.3995 20.017 29.4183 20.0045 29.4343 19.9889C29.4518 19.9737 29.4656 19.9548 29.4749 19.9335C29.4839 19.9118 29.4885 19.8886 29.4885 19.8652C29.4885 19.8417 29.4839 19.8185 29.4749 19.7969C29.4663 19.772 29.4525 19.7493 29.4343 19.7304ZM29.4048 19.9483C29.3915 19.9602 29.3766 19.9701 29.3605 19.9778C29.3447 19.9812 29.3284 19.9812 29.3126 19.9778C29.2944 19.982 29.2755 19.982 29.2573 19.9778C29.2399 19.9725 29.2245 19.9622 29.213 19.9483C29.1902 19.9237 29.1775 19.8913 29.1775 19.8578C29.1775 19.8242 29.1902 19.7919 29.213 19.7673C29.2236 19.7523 29.2394 19.7418 29.2573 19.7378C29.2735 19.7304 29.2911 19.7266 29.3089 19.7266C29.3267 19.7266 29.3443 19.7304 29.3605 19.7378C29.3781 19.7426 29.3936 19.753 29.4048 19.7673C29.4276 19.7919 29.4403 19.8242 29.4403 19.8578C29.4403 19.8913 29.4276 19.9237 29.4048 19.9483ZM29.3089 19.6787H29.3163H29.3089ZM11.6808 18.1389H11.596C11.4751 18.1312 11.3543 18.1559 11.2461 18.2104C11.1378 18.2649 11.0461 18.3473 10.9802 18.4491C10.9211 18.3503 10.8364 18.2693 10.7352 18.2147C10.6339 18.1601 10.5198 18.1339 10.4048 18.1389C10.3039 18.1333 10.2032 18.1546 10.1132 18.2007C10.0231 18.2467 9.94687 18.3159 9.89223 18.4011V18.1832H9.52344V19.9335H9.89223V18.9697C9.88504 18.915 9.88899 18.8594 9.9038 18.8062C9.91862 18.753 9.94401 18.7034 9.97845 18.6603C10.0129 18.6172 10.0557 18.5815 10.1042 18.5554C10.1528 18.5292 10.2061 18.5132 10.261 18.5082H10.3385C10.5892 18.5082 10.7072 18.6743 10.7072 18.9697V19.9446H11.076V18.9697C11.0689 18.915 11.0728 18.8594 11.0876 18.8062C11.1024 18.753 11.1278 18.7034 11.1623 18.6603C11.1967 18.6172 11.2395 18.5815 11.288 18.5554C11.3366 18.5292 11.3899 18.5132 11.4448 18.5082H11.5186C11.7804 18.5082 11.8874 18.6743 11.8874 18.9697V19.9446H12.2746V18.8368C12.2859 18.666 12.2302 18.4974 12.1193 18.3671C12.0084 18.2368 11.8511 18.1549 11.6808 18.1389ZM17.5814 19.6233C17.4007 19.6233 17.3307 19.5052 17.3307 19.3279V18.5303H17.9502V18.1832H17.3233V17.6367H16.9545V18.1684H16.6079V18.5155H16.9766V19.3353C16.9766 19.7452 17.1315 19.9852 17.5814 19.9852C17.7497 19.9855 17.9146 19.9381 18.0572 19.8486L17.9502 19.5236C17.8392 19.5911 17.7113 19.6257 17.5814 19.6233ZM15.7375 18.8811L15.5568 18.859C15.3908 18.8368 15.2618 18.8036 15.2618 18.6854C15.2618 18.5672 15.3835 18.4786 15.5937 18.4786C15.7866 18.4826 15.9754 18.5346 16.1432 18.63L16.3091 18.3235C16.0945 18.1948 15.8474 18.1307 15.5974 18.1389C15.1548 18.1389 14.8598 18.3531 14.8598 18.7002C14.8598 18.9845 15.0737 19.1617 15.4646 19.2171L15.649 19.243C15.8555 19.2725 15.9551 19.3242 15.9551 19.4239C15.9551 19.5236 15.815 19.6381 15.5568 19.6381C15.3475 19.6429 15.1425 19.578 14.9741 19.4535L14.7934 19.7526C15.0148 19.9069 15.2798 19.9858 15.5494 19.9778C16.0547 19.9778 16.346 19.7415 16.346 19.4055C16.346 19.0694 16.1063 18.9365 15.7375 18.8811ZM14.0411 18.3974C13.9766 18.3136 13.8932 18.2465 13.7976 18.2016C13.702 18.1566 13.5971 18.1351 13.4916 18.1389C13.2471 18.1389 13.0126 18.2362 12.8397 18.4093C12.6668 18.5824 12.5696 18.8172 12.5696 19.062C12.5696 19.3069 12.6668 19.5417 12.8397 19.7148C13.0126 19.8879 13.2471 19.9852 13.4916 19.9852C13.5967 19.9888 13.7012 19.9676 13.7967 19.9234C13.8921 19.8791 13.9758 19.813 14.0411 19.7304V19.9409H14.4099V18.1832H14.0411V18.3974ZM13.5248 19.6196C13.3855 19.6216 13.2512 19.5684 13.151 19.4715C13.0508 19.3747 12.993 19.2421 12.99 19.1027V19.0584C12.9958 18.9548 13.0317 18.8552 13.0933 18.7718C13.1548 18.6884 13.2394 18.6249 13.3366 18.589C13.4338 18.5531 13.5394 18.5465 13.6403 18.5699C13.7412 18.5934 13.833 18.6458 13.9045 18.7209C13.976 18.7959 14.024 18.8903 14.0427 18.9923C14.0613 19.0943 14.0497 19.1996 14.0094 19.2951C13.969 19.3906 13.9016 19.4722 13.8155 19.5299C13.7294 19.5875 13.6284 19.6187 13.5248 19.6196ZM19.1488 18.1426C18.9043 18.146 18.6711 18.2466 18.5007 18.4221C18.3302 18.5977 18.2363 18.8338 18.2397 19.0787C18.2432 19.3235 18.3436 19.5569 18.5189 19.7276C18.6942 19.8983 18.9301 19.9923 19.1746 19.9889C19.4415 20.0066 19.7052 19.9221 19.9122 19.7526L19.7315 19.4682C19.5869 19.5845 19.4079 19.6494 19.2226 19.6529C19.158 19.6594 19.0928 19.6531 19.0307 19.6341C18.9687 19.615 18.911 19.5838 18.8612 19.5422C18.8114 19.5006 18.7704 19.4494 18.7406 19.3917C18.7108 19.3339 18.6929 19.2708 18.6878 19.2061H19.9859V19.0584C19.9979 18.9417 19.9851 18.8238 19.9483 18.7125C19.9116 18.6012 19.8517 18.4989 19.7726 18.4124C19.6935 18.3259 19.5971 18.2571 19.4895 18.2106C19.382 18.1641 19.2659 18.1409 19.1488 18.1426ZM19.584 18.9033H18.6878C18.6954 18.7861 18.748 18.6764 18.8347 18.5972C18.9213 18.518 19.0352 18.4755 19.1525 18.4786C19.2095 18.4771 19.2662 18.487 19.3193 18.5076C19.3725 18.5282 19.421 18.5591 19.4622 18.5986C19.5033 18.6381 19.5362 18.6853 19.559 18.7376C19.5818 18.7899 19.5941 18.8462 19.595 18.9033H19.584Z"
              fill="#231F20"
            />
            <path
              d="M16.5351 10.0296C16.5367 9.03362 16.7639 8.05095 17.1996 7.15553C17.6352 6.26011 18.268 5.47526 19.0502 4.86001C18.0789 4.09647 16.9127 3.62189 15.6849 3.49047C14.457 3.35905 13.217 3.57609 12.1064 4.1168C10.9959 4.65751 10.0597 5.50008 9.40468 6.54826C8.74968 7.59644 8.40234 8.80796 8.40234 10.0444C8.40234 11.2808 8.74968 12.4924 9.40468 13.5405C10.0597 14.5887 10.9959 15.4313 12.1064 15.972C13.217 16.5127 14.457 16.7298 15.6849 16.5983C16.9127 16.4669 18.0789 15.9923 19.0502 15.2288C18.2642 14.6103 17.6293 13.8207 17.1935 12.9198C16.7577 12.019 16.5325 11.0306 16.5351 10.0296Z"
              fill="#EB001B"
            />
            <path
              d="M28.2962 5.9505C27.2165 4.57654 25.6362 3.68806 23.9025 3.48034C22.1689 3.27261 20.4237 3.76264 19.0508 4.84273C19.8353 5.45943 20.4696 6.24656 20.9058 7.14468C21.3419 8.0428 21.5686 9.02842 21.5686 10.0271C21.5686 11.0258 21.3419 12.0114 20.9058 12.9095C20.4696 13.8076 19.8353 14.5948 19.0508 15.2115C20.0214 15.9746 21.1867 16.4494 22.4137 16.5816C23.6408 16.7138 24.8802 16.4982 25.9908 15.9593C27.1014 15.4204 28.0385 14.58 28.6951 13.5337C29.3518 12.4875 29.7017 11.2776 29.705 10.0419C29.7095 8.55804 29.2131 7.11624 28.2962 5.9505ZM29.3583 14.0372L29.2809 13.8563H29.2219V14.1111H29.2698V13.9191L29.3399 14.0852H29.3878L29.4616 13.9191V14.1111H29.4985V13.8563H29.4321L29.3583 14.0372ZM29.1629 13.8563H28.9453V13.9006H29.0375V14.1111H29.0781V13.9006H29.1629V13.8563Z"
              fill="#F79E1B"
            />
          </svg>
        );
      case "visa":
        return (
          <svg
            css={svgStyles}
            width="37"
            height="23"
            viewBox="0 0 37 23"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M33.0979 0.257812H3.59864C1.84093 0.257812 0.416016 1.69368 0.416016 3.46492V19.0694C0.416016 20.8406 1.84093 22.2765 3.59864 22.2765H33.0979C34.8556 22.2765 36.2805 20.8406 36.2805 19.0694V3.46492C36.2805 1.69368 34.8556 0.257812 33.0979 0.257812Z"
              fill="white"
            />
            <path
              d="M33.1072 0.534756C33.9119 0.538657 34.6824 0.861218 35.2503 1.432C35.8183 2.00277 36.1376 2.7754 36.1386 3.58113V19.09C36.1376 19.8957 35.8183 20.6683 35.2503 21.2391C34.6824 21.8099 33.9119 22.1324 33.1072 22.1363H3.60424C3.2039 22.1373 2.80729 22.0592 2.4371 21.9066C2.06691 21.754 1.7304 21.5298 1.4468 21.2469C1.1632 20.964 0.938085 20.6278 0.784322 20.2577C0.630559 19.8876 0.551166 19.4908 0.550683 19.09V3.58113C0.551166 3.18028 0.630559 2.78345 0.784322 2.41335C0.938085 2.04324 1.1632 1.70711 1.4468 1.42418C1.7304 1.14125 2.06691 0.917068 2.4371 0.764453C2.80729 0.611838 3.2039 0.533785 3.60424 0.534756H33.1072ZM33.1072 0.257812H3.60424C2.72396 0.257813 1.87974 0.607947 1.25729 1.23119C0.634844 1.85443 0.285156 2.69973 0.285156 3.58113V19.09C0.285156 19.9714 0.634844 20.8167 1.25729 21.4399C1.87974 22.0631 2.72396 22.4133 3.60424 22.4133H33.1072C33.9875 22.4133 34.8317 22.0631 35.4541 21.4399C36.0766 20.8167 36.4263 19.9714 36.4263 19.09V3.58113C36.4263 2.69973 36.0766 1.85443 35.4541 1.23119C34.8317 0.607947 33.9875 0.257813 33.1072 0.257813V0.257812Z"
              fill="#999999"
            />
            <path
              d="M17.5819 7.15942L15.7933 15.5342H13.6285L15.406 7.15942H17.5819ZM26.6909 12.569L27.8305 9.42296L28.4869 12.569H26.6909ZM29.1065 15.5231H31.1053L29.3609 7.15942H27.517C27.3196 7.15682 27.1259 7.21393 26.9614 7.32329C26.7969 7.43266 26.6692 7.58918 26.595 7.77239L23.346 15.5268H25.6177L26.0677 14.2898H28.8446L29.1065 15.5231ZM23.4566 12.8127C23.4566 10.5972 20.4031 10.479 20.4215 9.48943C20.4215 9.19033 20.7166 8.86908 21.3398 8.78784C22.0718 8.71646 22.8094 8.84402 23.4751 9.1571L23.8439 7.38097C23.1967 7.13697 22.5108 7.01188 21.8192 7.01172C19.6803 7.01172 18.1756 8.15272 18.1609 9.78114C18.1609 10.9886 19.2377 11.6607 20.0564 12.0631C20.8751 12.4656 21.1628 12.7352 21.1628 13.1008C21.1628 13.6657 20.4916 13.9131 19.8684 13.9242C19.0977 13.9379 18.3362 13.7549 17.6556 13.3925L17.2647 15.2387C18.0324 15.5375 18.8493 15.6891 19.6729 15.6855C21.9446 15.6855 23.4345 14.5778 23.4419 12.8201L23.4566 12.8127ZM14.4914 7.15942L10.9806 15.5342H8.69412L6.9682 8.85061C6.95342 8.69376 6.89847 8.54338 6.80868 8.41401C6.71888 8.28464 6.59726 8.18065 6.45559 8.1121C5.77557 7.78812 5.05847 7.54878 4.32031 7.39944L4.37194 7.15942H8.05981C8.29951 7.16008 8.5311 7.24635 8.71295 7.40271C8.8948 7.55906 9.01497 7.77526 9.05184 8.0124L9.96275 12.8607L12.216 7.15942H14.4914Z"
              fill="#1A1F70"
            />
          </svg>
        );
      case "amex":
      case "americanexpress":
        return null;
      // return "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NCIgaGVpZ2h0PSIzNSI+PHBhdGggZmlsbD0iIzAwQzBGNCIgZD0iTTAgMGg1NHYzNUgwVjB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuOSAxMi40bC0xLTIuNS0xIDIuNWgyem0yMi45LS45Yy0uMi4xLS41LjEtLjguMWgtMS44di0xLjRIMjdjLjMgMCAuNSAwIC43LjEuMi4xLjMuMy4zLjYuMS4yLS4xLjUtLjIuNnptMTMuMSAxbC0xLTIuNS0xIDIuNWgyem0tMjQuNSAyLjdoLTEuNnYtNWwtMi4yIDVoLTEuM2wtMi4yLTV2NUg2bC0uNi0xLjRIMi4zbC0uNiAxLjRIMGwyLjctNi4zSDVsMi42IDZ2LTZoMi41bDIgNC4zIDEuOC00LjNoMi41djYuM3ptNi4yIDBoLTUuMVY4LjloNS4xdjEuM0gxOXYxLjFoMy41djEuM0gxOXYxLjNoMy41djEuM3ptNy4xLTQuNmMwIDEtLjcgMS41LTEuMSAxLjcuMy4xLjYuMy44LjUuMi4zLjMuNi4zIDEuMnYxLjJoLTEuNXYtLjhjMC0uNCAwLS45LS4yLTEuMi0uMi0uMi0uNi0uMy0xLjEtLjNoLTEuN3YyLjNoLTEuNVY4LjloMy41Yy44IDAgMS4zIDAgMS44LjMuNy40LjcgMS40LjcgMS40em0yLjUgNC42aC0xLjVWOC45aDEuNXY2LjN6bTE3LjkgMEg0OGwtMi45LTQuOHY0LjhINDJsLS42LTEuNGgtMy4ybC0uNiAxLjRoLTEuOGMtLjcgMC0xLjctLjItMi4yLS43LS41LS41LS44LTEuMy0uOC0yLjQgMC0uOS4yLTEuOC44LTIuNS42LS41IDEuNC0uNyAyLjQtLjdoMS41djEuNGgtMS40Yy0uNiAwLS45LjEtMS4yLjQtLjMuMy0uNC44LS40IDEuNCAwIC43LjEgMS4yLjQgMS41LjIuMy43LjMgMS4xLjNoLjdsMi4xLTVINDFsMi42IDZ2LTZoMi4zbDIuNyA0LjRWOC45aDEuNmwtLjEgNi4zek0wIDE2LjVoMi42bC42LTEuNGgxLjNsLjYgMS40aDUuMXYtMS4xbC41IDEuMWgyLjZsLjUtMS4xdjEuMWgxMi43di0yLjNoLjJjLjIgMCAuMiAwIC4yLjN2Mmg2LjZWMTZjLjUuMyAxLjQuNSAyLjQuNWgyLjhsLjYtMS40aDEuM2wuNiAxLjRoNS4zdi0xLjNsLjggMS4zaDQuM1Y3LjZoLTQuMnYxbC0uNi0xaC00LjN2MWwtLjUtMWgtNmMtMSAwLTEuOC4xLTIuNS41di0uNWgtNHYuNWMtLjQtLjQtMS0uNS0xLjctLjVIMTNsLTEgMi4zLTEtMi4zSDYuM3YxbC0uNS0xaC00TDAgMTEuOHY0Ljd6bTU0IDQuNmgtMi44Yy0uMyAwLS41IDAtLjYuMS0uMi4xLS4yLjMtLjIuNXMuMS40LjMuNWMuMi4xIDEuNC4xIDEuNC4xLjggMCAxLjQuMiAxLjcuNS4xIDAgLjIuMi4yLjN2LTJ6bTAgNC4yYy0uNC41LTEuMS44LTIuMS44SDQ5di0xLjRoMi45Yy4zIDAgLjUgMCAuNi0uMi4xLS4xLjItLjIuMi0uNHMtLjEtLjMtLjItLjRjLS4xLS4xLS4zLS4xLS41LS4xLTEuNCAwLTMuMiAwLTMuMi0yIDAtLjkuNi0xLjkgMi4yLTEuOWgzdi0xLjNoLTIuOGMtLjggMC0xLjUuMi0xLjkuNXYtLjVoLTQuMWMtLjcgMC0xLjQuMi0xLjguNXYtLjVIMzZ2LjZjLS42LS40LTEuNi0uNS0yLS41aC01di41Yy0uNS0uNS0xLjUtLjUtMi4xLS41aC01LjVsLTEuMyAxLjQtMS4yLTEuNGgtOC4ydjguOWg4TDIwIDI2bDEuMiAxLjRoNC45di0yLjFoLjVjLjcgMCAxLjQgMCAyLjEtLjN2Mi40aDQuMXYtMi4zaC4yYy4yIDAgLjMgMCAuMy4zdjJoMTIuNGMuOCAwIDEuNi0uMiAyLjEtLjZ2LjZoMy45Yy44IDAgMS42LS4xIDIuMi0uNGwuMS0xLjd6bS02LjEtMi41Yy4zLjMuNS43LjUgMS4zIDAgMS40LS45IDItMi40IDJoLTN2LTEuNGgzYy4zIDAgLjUgMCAuNi0uMi4xLS4xLjItLjIuMi0uNHMtLjEtLjMtLjItLjRjLS4xLS4xLS4zLS4xLS41LS4xLTEuNCAwLTMuMiAwLTMuMi0yIDAtLjkuNi0xLjkgMi4yLTEuOWgzdjEuNGgtMi44Yy0uMyAwLS41IDAtLjYuMS0uMi4xLS4yLjMtLjIuNXMuMS40LjMuNWMuMi4xIDEuNC4xIDEuNC4xLjggMCAxLjQuMSAxLjcuNXptLTEwLjgtM2g1LjF2MS4zaC0zLjZ2MS4ySDQydjEuM2gtMy41djEuM2gzLjZ2MS4zSDM3di02LjRoLjF6bS0xMC4zIDIuOWgtMnYtMS42aDJjLjUgMCAuOS4yLjkuOC4xLjUtLjMuOC0uOS44em0tMy40IDIuOUwyMSAyM2wyLjMtMi41djUuMXptLTYtLjhoLTMuN3YtMS4zSDE3di0xLjNoLTMuM1YyMWgzLjhsMS43IDEuOS0xLjggMS45em0xMi0yLjljMCAxLjgtMS4zIDIuMS0yLjYgMi4xaC0xLjl2Mi4xSDIyTDIwLjEgMjRsLTEuOSAyLjFoLTZ2LTYuNGg2LjFsMS45IDIuMSAxLjktMi4xaDQuOGMxLjIuMSAyLjUuNCAyLjUgMi4yem00LjkuNWMtLjIuMS0uNS4xLS44LjFoLTEuOHYtMS40aDEuOWMuMyAwIC41IDAgLjcuMS4yLjEuMy4zLjMuNiAwIC4yLS4yLjUtLjMuNnptMS45LS45YzAgMS0uNyAxLjUtMS4xIDEuNy4zLjEuNi4zLjguNS4yLjMuMy42LjMgMS4ydjEuMmgtMS41di0uOGMwLS40IDAtLjktLjItMS4yLS4yLS4yLS42LS4zLTEuMS0uM2gtMS43djIuM2gtMS41di02LjRoMy41Yy44IDAgMS4zIDAgMS44LjMuNy41LjcgMS41LjcgMS41eiIvPjwvc3ZnPg==)";
    }
  })();

  if (backgroundImage) {
    return backgroundImage;
  }
  return null;
};

export const CardDisplay = (props: CardDisplayProps) => (
  <div
    css={{
      display: props.inline ? "inline-flex" : "flex",
      flexWrap: "wrap",
      alignItems: "center",
      margin: props.margin || "10px"
    }}
  >
    {cardTypeToSVG(props.type)}{" "}
    <span
      css={css`
        color: ${props.inErrorState ? news[400] : neutral[7]};
      `}
    >
      ending {props.last4}
    </span>
  </div>
);
