import { css } from "@emotion/core";
import { neutral, news } from "@guardian/src-foundations/palette";
import React from "react";
import { Inlineable } from "./inlineable";

interface CardExpiryDetails {
  month: number;
  year: number;
}
export interface CardProps {
  last4: string;
  expiry?: CardExpiryDetails;
  type: string;
  stripePublicKeyForUpdate?: string;
}

interface CardDisplayProps extends CardProps, Inlineable {
  margin?: string;
  inErrorState?: boolean;
}

const cardTypeToSVG = (cardType: string) => {
  const backgroundImage: string | undefined = (() => {
    switch (cardType.toLowerCase().replace(/\s/g, "")) {
      case "mastercard":
        return "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NCIgaGVpZ2h0PSIzNSI+PHBhdGggZmlsbD0iIzIxMjA1RiIgZD0iTTAgMGg1NHYzNUgwVjB6Ii8+PHBhdGggZmlsbD0iIzk0MUIxRSIgZD0iTTE5LjIgNS44QzEyLjkgNS45IDcuNyAxMSA3LjcgMTcuNGMwIDYuNCA1LjIgMTEuNiAxMS41IDExLjYgMyAwIDUuNy0xLjEgNy44LTNsMS4yLTEuMmgtMi40bC0uOS0xLjJIMjlsLjctMS4yaC01LjRsLS41LTEuMmg2LjRjLjQtMS4yLjYtMi40LjYtMy43IDAtLjgtLjEtMS43LS4zLTIuNWgtNy4xbC4zLTEuMmg2LjRjLS4xLS40LS4zLS44LS41LTEuMmgtNS40Yy4yLS40LjQtLjguNy0xLjJIMjlsLS45LTEuMmgtMi4zYy40LS40LjctLjggMS4yLTEuMi0yLTItNC43LTMuMi03LjgtMy4yeiIvPjxwYXRoIGZpbGw9IiNGMjY3MjIiIGQ9Ik00Ni4zIDE3LjRjMCA2LjQtNS4yIDExLjYtMTEuNSAxMS42LTYuNCAwLTExLjUtNS4yLTExLjUtMTEuNiAwLTYuNCA1LjItMTEuNiAxMS41LTExLjZTNDYuMyAxMSA0Ni4zIDE3LjR6Ii8+PHBhdGggZmlsbD0iI0Y4OTkxRCIgZD0iTTQ2LjMgMTcuNWMwIDYuNC01LjIgMTEuNi0xMS41IDExLjYtNi40IDAtMTEuNS01LjItMTEuNS0xMS42IDAtNi40IDUuMi0xMS42IDExLjUtMTEuNnMxMS41IDUuMiAxMS41IDExLjZ6Ii8+PHBhdGggZmlsbD0iI0NCMjAyNiIgZD0iTTE5LjIgNS45QzEyLjkgNiA3LjcgMTEuMiA3LjcgMTcuNWMwIDYuNCA1LjIgMTEuNiAxMS41IDExLjYgMyAwIDUuNy0xLjEgNy44LTNsMS4yLTEuMmgtMi40bC0uOS0xLjJIMjlsLjctMS4yaC01LjRsLS41LTEuMmg2LjRjLjQtMS4yLjYtMi40LjYtMy43IDAtLjgtLjEtMS43LS4zLTIuNWgtNy4xbC4zLTEuMmg2LjRjLS4xLS40LS4zLS44LS41LTEuMmgtNS40Yy4yLS40LjQtLjguNy0xLjJIMjlsLS45LTEuMmgtMi4zYy40LS42LjgtMSAxLjItMS4zLTItMS45LTQuNy0zLTcuOC0zLjF6Ii8+PHBhdGggZmlsbD0iIzIxMjA1RiIgZD0iTTIzLjEgMjAuOGwuMi0xSDIzYy0uNCAwLS41LS4yLS40LS40bC40LTIuMWguNmwuMS0xLjJoLS42bC4xLS43aC0xLjNzLS43IDQtLjcgNC41YzAgLjcuNCAxIDEgMSAuNC4xLjggMCAuOS0uMXptLjQtMmMwIDEuNyAxLjEgMi4yIDIuMSAyLjIuOSAwIDEuNC0uMiAxLjQtLjJsLjItMS4ycy0uOC4zLTEuNC4zYy0xLjMgMC0xLjEtMS0xLjEtMWgyLjVzLjItLjguMi0xLjFjMC0uOC0uNC0xLjgtMS44LTEuOC0xLjIgMC0yLjEgMS4zLTIuMSAyLjh6bTIuMS0xLjdjLjcgMCAuNi44LjYuOGgtMS40cy4yLS44LjgtLjh6bTcuOCAzLjdsLjItMS4zcy0uNi4zLTEgLjNjLS45IDAtMS4yLS43LTEuMi0xLjQgMC0xLjUuOC0yLjMgMS42LTIuMy42IDAgMS4xLjQgMS4xLjRsLjItMS4zcy0uNi0uNC0xLjItLjRjLTEuOSAwLTMgMS4zLTMgMy42IDAgMS41LjggMi42IDIuMyAyLjYuNCAwIDEtLjIgMS0uMnpNMTYuMyAxNmMtLjggMC0xLjUuMy0xLjUuM2wtLjIgMS4xcy41LS4yIDEuMy0uMmMuNSAwIC44LjEuOC40di4zaC0uNWMtMS4yIDAtMi4yLjUtMi4yIDEuOCAwIDEuMS43IDEuMyAxLjIgMS4zLjkgMCAxLjItLjUgMS4yLS42di41aDEuMWwuNS0zLjRjMC0xLjQtMS4yLTEuNS0xLjctMS41em0uMiAyLjhjMCAuMi0uMSAxLjItLjggMS4yLS40IDAtLjUtLjMtLjUtLjUgMC0uMy4yLS43IDEuMS0uN2guMnptMi43IDIuMmMuMyAwIDEuOS4xIDEuOS0xLjYgMC0xLjUtMS41LTEuMi0xLjUtMS44IDAtLjMuMi0uNC43LS40LjIgMCAuOC4xLjguMWwuMi0xLjFzLS40LS4xLTEuMS0uMWMtLjkgMC0xLjguNC0xLjggMS42IDAgMS40IDEuNSAxLjMgMS41IDEuOSAwIC40LS40LjQtLjguNC0uNiAwLTEuMS0uMi0xLjEtLjJsLS4yIDEuMWMwLS4xLjMuMSAxLjQuMXptMjQuMy02bC0uMiAxLjdzLS41LS42LTEuMi0uNmMtMS40IDAtMi4xIDEuNC0yLjEgMi45IDAgMSAuNSAyIDEuNSAyIC43IDAgMS4xLS41IDEuMS0uNWwtLjEuNGgxLjJsLjktNS45aC0xLjF6bS0uNSAzLjJjMCAuNy0uMyAxLjUtMSAxLjUtLjQgMC0uNi0uNC0uNi0xIDAtMSAuNC0xLjYgMS0xLjYuNC4xLjYuNC42IDEuMXpNOS43IDIwLjlsLjctNC40LjEgNC40aC44bDEuNi00LjQtLjcgNC40aDEuM2wxLTUuOWgtMmwtMS4yIDMuNlYxNUg5LjRsLTEgNS45aDEuM3ptMTguOSAwYy40LTIgLjUtMy42IDEuNS0zLjMuMi0uOC41LTEuNS43LTEuOCAwIDAtLjEtLjEtLjQtLjEtLjYgMC0xLjMgMS4xLTEuMyAxLjFsLjEtLjdoLTEuMWwtLjggNC44aDEuM3pNMzYgMTZjLS44IDAtMS41LjMtMS41LjNsLS4yIDEuMXMuNS0uMiAxLjMtLjJjLjUgMCAuOC4xLjguNHYuM2gtLjVjLTEuMiAwLTIuMi41LTIuMiAxLjggMCAxLjEuNyAxLjMgMS4yIDEuMy45IDAgMS4yLS41IDEuMi0uNnYuNWgxLjFsLjUtMy40YzAtMS40LTEuMy0xLjUtMS43LTEuNXptLjIgMi44YzAgLjItLjEgMS4yLS44IDEuMi0uNCAwLS41LS4zLS41LS41IDAtLjMuMi0uNyAxLjEtLjdoLjJ6bTIuNyAyLjFjLjItMS41LjYtMy42IDEuNS0zLjMuMi0uOCAwLS44LS4zLS44aC0uN2wuMS0uN2gtMS4xbC0uOCA0LjhoMS4zeiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMy40IDIwLjVsLjItMWgtLjNjLS40IDAtLjUtLjItLjQtLjRsLjMtMi4xaC42bC4yLTEuMmgtLjZsLjEtLjdoLTEuMnMtLjcgNC0uNyA0LjVjMCAuNy40IDEgMSAxIC4zIDAgLjctLjEuOC0uMXptLjQtMmMwIDEuNyAxLjEgMi4yIDIuMSAyLjIuOSAwIDEuMy0uMiAxLjMtLjJsLjItMS4ycy0uNy4zLTEuMy4zYy0xLjMgMC0xLjEtMS0xLjEtMWgyLjVzLjItLjguMi0xLjFjMC0uOC0uNC0xLjgtMS44LTEuOC0xLjItLjEtMi4xIDEuMy0yLjEgMi44em0yLjItMS44Yy43IDAgLjYuOC42LjhoLTEuNHMuMS0uOC44LS44em03LjcgMy44bC4yLTEuM3MtLjYuMy0xIC4zYy0uOSAwLTEuMi0uNy0xLjItMS40IDAtMS41LjgtMi4zIDEuNi0yLjMuNiAwIDEuMS40IDEuMS40bC4yLTEuM3MtLjctLjMtMS40LS4zYy0xLjQgMC0yLjggMS4yLTIuOCAzLjUgMCAxLjUuNyAyLjUgMi4yIDIuNS41IDAgMS4xLS4xIDEuMS0uMXptLTE3LTQuOWMtLjggMC0xLjUuMy0xLjUuM0wxNSAxN3MuNS0uMiAxLjMtLjJjLjUgMCAuOC4xLjguNHYuM2gtLjVjLTEuMSAwLTIuMi41LTIuMiAxLjggMCAxLjEuNyAxLjMgMS4yIDEuMy45IDAgMS4yLS42IDEuMy0uNnYuNUgxOGwuNS0zLjRjLS4yLTEuNC0xLjQtMS41LTEuOC0xLjV6bS4yIDIuOGMwIC4yLS4xIDEuMi0uOSAxLjItLjQgMC0uNS0uMy0uNS0uNSAwLS4zLjItLjcgMS4xLS43aC4zem0yLjYgMi4yYy4zIDAgMS45LjEgMS45LTEuNiAwLTEuNS0xLjUtMS4yLTEuNS0xLjggMC0uMy4yLS40LjctLjQuMiAwIC44LjEuOC4xbC4yLTEuMXMtLjQtLjEtMS4xLS4xYy0uOSAwLTEuOC40LTEuOCAxLjYgMCAxLjQgMS41IDEuMyAxLjUgMS45IDAgLjQtLjQuNC0uOC40LS42IDAtMS4xLS4yLTEuMS0uMmwtLjIgMS4xYzAtLjEuNC4xIDEuNC4xem0yNC40LTUuOWwtLjMgMS42cy0uNS0uNi0xLjItLjZjLTEuMSAwLTIuMSAxLjQtMi4xIDIuOSAwIDEgLjUgMiAxLjUgMiAuNyAwIDEuMS0uNSAxLjEtLjVsLjEuNGgxLjJsLjktNS45LTEuMi4xem0tLjYgMy4yYzAgLjYtLjMgMS41LTEgMS41LS40IDAtLjYtLjQtLjYtMSAwLTEgLjQtMS42IDEtMS42LjQuMS42LjQuNiAxLjF6TTEwIDIwLjVsLjctNC40LjEgNC40aC44bDEuNi00LjQtLjcgNC40aDEuM2wxLTUuOWgtMS45bC0xLjIgMy42LS4xLTMuNkg5LjhsLTEgNS45SDEwem0xOC45IDBjLjQtMiAuNC0zLjcgMS4zLTMuNC4xLS44LjMtMS4xLjUtMS40aC0uMmMtLjYgMC0xIC44LTEgLjhsLjEtLjdoLTEuMWwtLjggNC44aDEuMnYtLjF6bTcuNy00LjljLS44IDAtMS41LjMtMS41LjNsLS4yIDEuMXMuNS0uMiAxLjMtLjJjLjUgMCAuOC4xLjguNHYuM2gtLjVjLTEuMSAwLTIuMi41LTIuMiAxLjggMCAxLjEuNyAxLjMgMS4yIDEuMy45IDAgMS4yLS42IDEuMy0uNnYuNWgxLjFsLjUtMy40Yy0uMS0xLjQtMS40LTEuNS0xLjgtMS41em0uMiAyLjhjMCAuMi0uMSAxLjItLjkgMS4yLS40IDAtLjUtLjMtLjUtLjUgMC0uMy4yLS43IDEuMS0uN2guM3ptMi40IDIuMWMuNC0yIC40LTMuNyAxLjMtMy40LjEtLjguMy0xLjEuNS0xLjRoLS4yYy0uNiAwLTEgLjgtMSAuOGwuMS0uN2gtMS4xbC0uOCA0LjdoMS4yeiIvPjwvc3ZnPg==)";
      case "visa":
        return "url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzciIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAzNyAyMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMzLjA5NzkgMC4yNTc4MTJIMy41OTg2NEMxLjg0MDkzIDAuMjU3ODEyIDAuNDE2MDE2IDEuNjkzNjggMC40MTYwMTYgMy40NjQ5MlYxOS4wNjk0QzAuNDE2MDE2IDIwLjg0MDYgMS44NDA5MyAyMi4yNzY1IDMuNTk4NjQgMjIuMjc2NUgzMy4wOTc5QzM0Ljg1NTYgMjIuMjc2NSAzNi4yODA1IDIwLjg0MDYgMzYuMjgwNSAxOS4wNjk0VjMuNDY0OTJDMzYuMjgwNSAxLjY5MzY4IDM0Ljg1NTYgMC4yNTc4MTIgMzMuMDk3OSAwLjI1NzgxMloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMy4xMDcyIDAuNTM0NzU2QzMzLjkxMTkgMC41Mzg2NTcgMzQuNjgyNCAwLjg2MTIxOCAzNS4yNTAzIDEuNDMyQzM1LjgxODMgMi4wMDI3NyAzNi4xMzc2IDIuNzc1NCAzNi4xMzg2IDMuNTgxMTNWMTkuMDlDMzYuMTM3NiAxOS44OTU3IDM1LjgxODMgMjAuNjY4MyAzNS4yNTAzIDIxLjIzOTFDMzQuNjgyNCAyMS44MDk5IDMzLjkxMTkgMjIuMTMyNCAzMy4xMDcyIDIyLjEzNjNIMy42MDQyNEMzLjIwMzkgMjIuMTM3MyAyLjgwNzI5IDIyLjA1OTIgMi40MzcxIDIxLjkwNjZDMi4wNjY5MSAyMS43NTQgMS43MzA0IDIxLjUyOTggMS40NDY4IDIxLjI0NjlDMS4xNjMyIDIwLjk2NCAwLjkzODA4NSAyMC42Mjc4IDAuNzg0MzIyIDIwLjI1NzdDMC42MzA1NTkgMTkuODg3NiAwLjU1MTE2NiAxOS40OTA4IDAuNTUwNjgzIDE5LjA5VjMuNTgxMTNDMC41NTExNjYgMy4xODAyOCAwLjYzMDU1OSAyLjc4MzQ1IDAuNzg0MzIyIDIuNDEzMzVDMC45MzgwODUgMi4wNDMyNCAxLjE2MzIgMS43MDcxMSAxLjQ0NjggMS40MjQxOEMxLjczMDQgMS4xNDEyNSAyLjA2NjkxIDAuOTE3MDY4IDIuNDM3MSAwLjc2NDQ1M0MyLjgwNzI5IDAuNjExODM4IDMuMjAzOSAwLjUzMzc4NSAzLjYwNDI0IDAuNTM0NzU2SDMzLjEwNzJaTTMzLjEwNzIgMC4yNTc4MTJIMy42MDQyNEMyLjcyMzk2IDAuMjU3ODEzIDEuODc5NzQgMC42MDc5NDcgMS4yNTcyOSAxLjIzMTE5QzAuNjM0ODQ0IDEuODU0NDMgMC4yODUxNTYgMi42OTk3MyAwLjI4NTE1NiAzLjU4MTEzVjE5LjA5QzAuMjg1MTU2IDE5Ljk3MTQgMC42MzQ4NDQgMjAuODE2NyAxLjI1NzI5IDIxLjQzOTlDMS44Nzk3NCAyMi4wNjMxIDIuNzIzOTYgMjIuNDEzMyAzLjYwNDI0IDIyLjQxMzNIMzMuMTA3MkMzMy45ODc1IDIyLjQxMzMgMzQuODMxNyAyMi4wNjMxIDM1LjQ1NDEgMjEuNDM5OUMzNi4wNzY2IDIwLjgxNjcgMzYuNDI2MyAxOS45NzE0IDM2LjQyNjMgMTkuMDlWMy41ODExM0MzNi40MjYzIDIuNjk5NzMgMzYuMDc2NiAxLjg1NDQzIDM1LjQ1NDEgMS4yMzExOUMzNC44MzE3IDAuNjA3OTQ3IDMzLjk4NzUgMC4yNTc4MTMgMzMuMTA3MiAwLjI1NzgxM1YwLjI1NzgxMloiIGZpbGw9IiM5OTk5OTkiLz4KPHBhdGggZD0iTTE3LjU4MTkgNy4xNTk0MkwxNS43OTMzIDE1LjUzNDJIMTMuNjI4NUwxNS40MDYgNy4xNTk0MkgxNy41ODE5Wk0yNi42OTA5IDEyLjU2OUwyNy44MzA1IDkuNDIyOTZMMjguNDg2OSAxMi41NjlIMjYuNjkwOVpNMjkuMTA2NSAxNS41MjMxSDMxLjEwNTNMMjkuMzYwOSA3LjE1OTQySDI3LjUxN0MyNy4zMTk2IDcuMTU2ODIgMjcuMTI1OSA3LjIxMzkzIDI2Ljk2MTQgNy4zMjMyOUMyNi43OTY5IDcuNDMyNjYgMjYuNjY5MiA3LjU4OTE4IDI2LjU5NSA3Ljc3MjM5TDIzLjM0NiAxNS41MjY4SDI1LjYxNzdMMjYuMDY3NyAxNC4yODk4SDI4Ljg0NDZMMjkuMTA2NSAxNS41MjMxWk0yMy40NTY2IDEyLjgxMjdDMjMuNDU2NiAxMC41OTcyIDIwLjQwMzEgMTAuNDc5IDIwLjQyMTUgOS40ODk0M0MyMC40MjE1IDkuMTkwMzMgMjAuNzE2NiA4Ljg2OTA4IDIxLjMzOTggOC43ODc4NEMyMi4wNzE4IDguNzE2NDYgMjIuODA5NCA4Ljg0NDAyIDIzLjQ3NTEgOS4xNTcxTDIzLjg0MzkgNy4zODA5N0MyMy4xOTY3IDcuMTM2OTcgMjIuNTEwOCA3LjAxMTg4IDIxLjgxOTIgNy4wMTE3MkMxOS42ODAzIDcuMDExNzIgMTguMTc1NiA4LjE1MjcyIDE4LjE2MDkgOS43ODExNEMxOC4xNjA5IDEwLjk4ODYgMTkuMjM3NyAxMS42NjA3IDIwLjA1NjQgMTIuMDYzMUMyMC44NzUxIDEyLjQ2NTYgMjEuMTYyOCAxMi43MzUyIDIxLjE2MjggMTMuMTAwOEMyMS4xNjI4IDEzLjY2NTcgMjAuNDkxNiAxMy45MTMxIDE5Ljg2ODQgMTMuOTI0MkMxOS4wOTc3IDEzLjkzNzkgMTguMzM2MiAxMy43NTQ5IDE3LjY1NTYgMTMuMzkyNUwxNy4yNjQ3IDE1LjIzODdDMTguMDMyNCAxNS41Mzc1IDE4Ljg0OTMgMTUuNjg5MSAxOS42NzI5IDE1LjY4NTVDMjEuOTQ0NiAxNS42ODU1IDIzLjQzNDUgMTQuNTc3OCAyMy40NDE5IDEyLjgyMDFMMjMuNDU2NiAxMi44MTI3Wk0xNC40OTE0IDcuMTU5NDJMMTAuOTgwNiAxNS41MzQySDguNjk0MTJMNi45NjgyIDguODUwNjFDNi45NTM0MiA4LjY5Mzc2IDYuODk4NDcgOC41NDMzOCA2LjgwODY4IDguNDE0MDFDNi43MTg4OCA4LjI4NDY0IDYuNTk3MjYgOC4xODA2NSA2LjQ1NTU5IDguMTEyMUM1Ljc3NTU3IDcuNzg4MTIgNS4wNTg0NyA3LjU0ODc4IDQuMzIwMzEgNy4zOTk0NEw0LjM3MTk0IDcuMTU5NDJIOC4wNTk4MUM4LjI5OTUxIDcuMTYwMDggOC41MzExIDcuMjQ2MzUgOC43MTI5NSA3LjQwMjcxQzguODk0OCA3LjU1OTA2IDkuMDE0OTcgNy43NzUyNiA5LjA1MTg0IDguMDEyNEw5Ljk2Mjc1IDEyLjg2MDdMMTIuMjE2IDcuMTU5NDJIMTQuNDkxNFoiIGZpbGw9IiMxQTFGNzAiLz4KPC9zdmc+Cg==)";
      case "amex":
      case "americanexpress":
        return "url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NCIgaGVpZ2h0PSIzNSI+PHBhdGggZmlsbD0iIzAwQzBGNCIgZD0iTTAgMGg1NHYzNUgwVjB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuOSAxMi40bC0xLTIuNS0xIDIuNWgyem0yMi45LS45Yy0uMi4xLS41LjEtLjguMWgtMS44di0xLjRIMjdjLjMgMCAuNSAwIC43LjEuMi4xLjMuMy4zLjYuMS4yLS4xLjUtLjIuNnptMTMuMSAxbC0xLTIuNS0xIDIuNWgyem0tMjQuNSAyLjdoLTEuNnYtNWwtMi4yIDVoLTEuM2wtMi4yLTV2NUg2bC0uNi0xLjRIMi4zbC0uNiAxLjRIMGwyLjctNi4zSDVsMi42IDZ2LTZoMi41bDIgNC4zIDEuOC00LjNoMi41djYuM3ptNi4yIDBoLTUuMVY4LjloNS4xdjEuM0gxOXYxLjFoMy41djEuM0gxOXYxLjNoMy41djEuM3ptNy4xLTQuNmMwIDEtLjcgMS41LTEuMSAxLjcuMy4xLjYuMy44LjUuMi4zLjMuNi4zIDEuMnYxLjJoLTEuNXYtLjhjMC0uNCAwLS45LS4yLTEuMi0uMi0uMi0uNi0uMy0xLjEtLjNoLTEuN3YyLjNoLTEuNVY4LjloMy41Yy44IDAgMS4zIDAgMS44LjMuNy40LjcgMS40LjcgMS40em0yLjUgNC42aC0xLjVWOC45aDEuNXY2LjN6bTE3LjkgMEg0OGwtMi45LTQuOHY0LjhINDJsLS42LTEuNGgtMy4ybC0uNiAxLjRoLTEuOGMtLjcgMC0xLjctLjItMi4yLS43LS41LS41LS44LTEuMy0uOC0yLjQgMC0uOS4yLTEuOC44LTIuNS42LS41IDEuNC0uNyAyLjQtLjdoMS41djEuNGgtMS40Yy0uNiAwLS45LjEtMS4yLjQtLjMuMy0uNC44LS40IDEuNCAwIC43LjEgMS4yLjQgMS41LjIuMy43LjMgMS4xLjNoLjdsMi4xLTVINDFsMi42IDZ2LTZoMi4zbDIuNyA0LjRWOC45aDEuNmwtLjEgNi4zek0wIDE2LjVoMi42bC42LTEuNGgxLjNsLjYgMS40aDUuMXYtMS4xbC41IDEuMWgyLjZsLjUtMS4xdjEuMWgxMi43di0yLjNoLjJjLjIgMCAuMiAwIC4yLjN2Mmg2LjZWMTZjLjUuMyAxLjQuNSAyLjQuNWgyLjhsLjYtMS40aDEuM2wuNiAxLjRoNS4zdi0xLjNsLjggMS4zaDQuM1Y3LjZoLTQuMnYxbC0uNi0xaC00LjN2MWwtLjUtMWgtNmMtMSAwLTEuOC4xLTIuNS41di0uNWgtNHYuNWMtLjQtLjQtMS0uNS0xLjctLjVIMTNsLTEgMi4zLTEtMi4zSDYuM3YxbC0uNS0xaC00TDAgMTEuOHY0Ljd6bTU0IDQuNmgtMi44Yy0uMyAwLS41IDAtLjYuMS0uMi4xLS4yLjMtLjIuNXMuMS40LjMuNWMuMi4xIDEuNC4xIDEuNC4xLjggMCAxLjQuMiAxLjcuNS4xIDAgLjIuMi4yLjN2LTJ6bTAgNC4yYy0uNC41LTEuMS44LTIuMS44SDQ5di0xLjRoMi45Yy4zIDAgLjUgMCAuNi0uMi4xLS4xLjItLjIuMi0uNHMtLjEtLjMtLjItLjRjLS4xLS4xLS4zLS4xLS41LS4xLTEuNCAwLTMuMiAwLTMuMi0yIDAtLjkuNi0xLjkgMi4yLTEuOWgzdi0xLjNoLTIuOGMtLjggMC0xLjUuMi0xLjkuNXYtLjVoLTQuMWMtLjcgMC0xLjQuMi0xLjguNXYtLjVIMzZ2LjZjLS42LS40LTEuNi0uNS0yLS41aC01di41Yy0uNS0uNS0xLjUtLjUtMi4xLS41aC01LjVsLTEuMyAxLjQtMS4yLTEuNGgtOC4ydjguOWg4TDIwIDI2bDEuMiAxLjRoNC45di0yLjFoLjVjLjcgMCAxLjQgMCAyLjEtLjN2Mi40aDQuMXYtMi4zaC4yYy4yIDAgLjMgMCAuMy4zdjJoMTIuNGMuOCAwIDEuNi0uMiAyLjEtLjZ2LjZoMy45Yy44IDAgMS42LS4xIDIuMi0uNGwuMS0xLjd6bS02LjEtMi41Yy4zLjMuNS43LjUgMS4zIDAgMS40LS45IDItMi40IDJoLTN2LTEuNGgzYy4zIDAgLjUgMCAuNi0uMi4xLS4xLjItLjIuMi0uNHMtLjEtLjMtLjItLjRjLS4xLS4xLS4zLS4xLS41LS4xLTEuNCAwLTMuMiAwLTMuMi0yIDAtLjkuNi0xLjkgMi4yLTEuOWgzdjEuNGgtMi44Yy0uMyAwLS41IDAtLjYuMS0uMi4xLS4yLjMtLjIuNXMuMS40LjMuNWMuMi4xIDEuNC4xIDEuNC4xLjggMCAxLjQuMSAxLjcuNXptLTEwLjgtM2g1LjF2MS4zaC0zLjZ2MS4ySDQydjEuM2gtMy41djEuM2gzLjZ2MS4zSDM3di02LjRoLjF6bS0xMC4zIDIuOWgtMnYtMS42aDJjLjUgMCAuOS4yLjkuOC4xLjUtLjMuOC0uOS44em0tMy40IDIuOUwyMSAyM2wyLjMtMi41djUuMXptLTYtLjhoLTMuN3YtMS4zSDE3di0xLjNoLTMuM1YyMWgzLjhsMS43IDEuOS0xLjggMS45em0xMi0yLjljMCAxLjgtMS4zIDIuMS0yLjYgMi4xaC0xLjl2Mi4xSDIyTDIwLjEgMjRsLTEuOSAyLjFoLTZ2LTYuNGg2LjFsMS45IDIuMSAxLjktMi4xaDQuOGMxLjIuMSAyLjUuNCAyLjUgMi4yem00LjkuNWMtLjIuMS0uNS4xLS44LjFoLTEuOHYtMS40aDEuOWMuMyAwIC41IDAgLjcuMS4yLjEuMy4zLjMuNiAwIC4yLS4yLjUtLjMuNnptMS45LS45YzAgMS0uNyAxLjUtMS4xIDEuNy4zLjEuNi4zLjguNS4yLjMuMy42LjMgMS4ydjEuMmgtMS41di0uOGMwLS40IDAtLjktLjItMS4yLS4yLS4yLS42LS4zLTEuMS0uM2gtMS43djIuM2gtMS41di02LjRoMy41Yy44IDAgMS4zIDAgMS44LjMuNy41LjcgMS41LjcgMS41eiIvPjwvc3ZnPg==)";
    }
  })();

  if (backgroundImage) {
    return (
      <span
        css={{
          display: "inline-block",
          borderRadius: "6px",
          marginRight: "9px",
          backgroundImage,
          width: "31px",
          height: "20px",
          backgroundPosition: "0 0",
          backgroundSize: "cover"
        }}
      />
    );
  }
  return null;
};

export const CardDisplay = (props: CardDisplayProps) => (
  <div
    css={{
      display: props.inline ? "inline-flex" : "flex",
      flexWrap: "wrap",
      alignItems: "center",
      margin: props.margin || "10px"
    }}
  >
    {cardTypeToSVG(props.type)}{" "}
    <span
      css={css`
        color: ${props.inErrorState ? news[400] : neutral[7]};
      `}
    >
      ending {props.last4}
    </span>
  </div>
);
