import type { SerializedStyles } from '@emotion/react';
import { css } from '@emotion/react';
import { trackEvent } from '@/client/utilities/analytics';
import { iosAppUrl } from '@/shared/externalLinks';

interface AppleAppStoreButtonProps {
	link: string;
	additionalCss?: SerializedStyles;
	overrideButtonHeight?: string;
}

export const AppleAppStoreButton = (props: AppleAppStoreButtonProps) => {
	const defaultBtnStyles = css`
		height: ${props.overrideButtonHeight || '40px'};
		width: auto;
	`;

	const linkStyles = css``;

	return (
		<a
			href={iosAppUrl}
			target="blank"
			onClick={() => {
				trackEvent({
					eventCategory: 'cancellation_offer_confirmation',
					eventAction: 'click',
					eventLabel: 'ios_app_cta_click',
				});
			}}
			css={linkStyles}
			aria-label="Download on the Apple App Store"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="119.66"
				height="40"
				viewBox="0 0 119.66 40"
				css={[defaultBtnStyles, props.additionalCss]}
			>
				<path
					fill="#a6a6a6"
					d="M110.13 0H8.44l-.92.01a13.21 13.21 0 0 0-2 .18 6.67 6.67 0 0 0-1.9.63A6.44 6.44 0 0 0 2 2 6.26 6.26 0 0 0 .82 3.62a6.6 6.6 0 0 0-.63 1.9 13 13 0 0 0-.17 2L0 8.44v23.12c0 .3 0 .61.02.92a13 13 0 0 0 .17 2 6.59 6.59 0 0 0 .63 1.9A6.2 6.2 0 0 0 2 38a6.27 6.27 0 0 0 1.62 1.18 6.7 6.7 0 0 0 1.9.63 13.46 13.46 0 0 0 2 .18h.92l1.1.01H111.21l.92-.01a13.28 13.28 0 0 0 2-.18 6.8 6.8 0 0 0 1.9-.63 6.28 6.28 0 0 0 1.63-1.18 6.4 6.4 0 0 0 1.18-1.61 6.6 6.6 0 0 0 .62-1.9 13.5 13.5 0 0 0 .18-2.01v-.92l.01-1.1V7.52a13.5 13.5 0 0 0-.2-2 6.62 6.62 0 0 0-.61-1.9 6.47 6.47 0 0 0-2.8-2.8 6.77 6.77 0 0 0-1.9-.63 13.04 13.04 0 0 0-2-.18h-.93L110.13 0Z"
				/>
				<path d="M8.44 39.13c-.3 0-.6 0-.9-.02a12.69 12.69 0 0 1-1.87-.16 5.88 5.88 0 0 1-1.66-.55 5.4 5.4 0 0 1-1.4-1.01 5.32 5.32 0 0 1-1.01-1.4 5.72 5.72 0 0 1-.55-1.66 12.41 12.41 0 0 1-.16-1.87l-.02-.92V8.44l.02-.89a12.37 12.37 0 0 1 .16-1.87 5.76 5.76 0 0 1 .55-1.66 5.37 5.37 0 0 1 1.01-1.4 5.57 5.57 0 0 1 1.4-1.02 5.82 5.82 0 0 1 1.66-.55A12.59 12.59 0 0 1 7.54.9l.9-.02h102.77l.92.02a12.38 12.38 0 0 1 1.86.16 5.94 5.94 0 0 1 1.67.55 5.6 5.6 0 0 1 2.41 2.42 5.76 5.76 0 0 1 .54 1.65 13 13 0 0 1 .17 1.88v.9l.01 1.09v22l-.01.93a12.73 12.73 0 0 1-.17 1.85 5.74 5.74 0 0 1-.54 1.67 5.48 5.48 0 0 1-1.02 1.39 5.41 5.41 0 0 1-1.4 1.02 5.86 5.86 0 0 1-1.66.55 12.54 12.54 0 0 1-1.87.16l-.9.01h-1.09Z" />
				<path
					fill="#fff"
					d="M24.77 20.3a4.95 4.95 0 0 1 2.36-4.15 5.07 5.07 0 0 0-4-2.16c-1.67-.18-3.3 1-4.16 1-.87 0-2.19-.98-3.6-.95a5.32 5.32 0 0 0-4.48 2.73c-1.93 3.34-.5 8.26 1.36 10.97.93 1.33 2.01 2.8 3.43 2.75 1.39-.05 1.9-.88 3.58-.88 1.66 0 2.14.88 3.59.85 1.49-.02 2.43-1.33 3.32-2.67a10.96 10.96 0 0 0 1.52-3.09 4.78 4.78 0 0 1-2.92-4.4ZM22.04 12.21a4.87 4.87 0 0 0 1.11-3.49 4.96 4.96 0 0 0-3.2 1.66 4.64 4.64 0 0 0-1.15 3.36 4.1 4.1 0 0 0 3.24-1.53Z"
					data-name="&lt;Path&gt;"
				/>
				<path
					fill="#fff"
					d="M42.3 27.14h-4.73l-1.14 3.36h-2l4.48-12.42H41l4.49 12.42h-2.04Zm-4.24-1.55h3.75l-1.85-5.45h-.05ZM55.16 25.97c0 2.81-1.5 4.62-3.78 4.62a3.07 3.07 0 0 1-2.85-1.58h-.04v4.48h-1.86V21.44h1.8v1.5h.03a3.21 3.21 0 0 1 2.89-1.6c2.3 0 3.81 1.82 3.81 4.63Zm-1.91 0c0-1.83-.95-3.04-2.4-3.04-1.41 0-2.37 1.23-2.37 3.04 0 1.82.96 3.05 2.38 3.05 1.44 0 2.39-1.2 2.39-3.05ZM65.12 25.97c0 2.81-1.5 4.62-3.77 4.62a3.07 3.07 0 0 1-2.85-1.58h-.05v4.48H56.6V21.44h1.8v1.5h.03a3.21 3.21 0 0 1 2.88-1.6c2.3 0 3.81 1.82 3.81 4.63Zm-1.9 0c0-1.83-.95-3.04-2.4-3.04-1.42 0-2.37 1.23-2.37 3.04 0 1.82.95 3.05 2.37 3.05 1.45 0 2.4-1.2 2.4-3.05ZM71.71 27.04c.14 1.23 1.33 2.04 2.97 2.04 1.57 0 2.7-.81 2.7-1.92 0-.97-.69-1.54-2.3-1.94l-1.6-.39c-2.29-.55-3.34-1.61-3.34-3.34 0-2.15 1.86-3.62 4.51-3.62 2.63 0 4.43 1.47 4.49 3.62h-1.88c-.11-1.24-1.14-2-2.63-2s-2.52.76-2.52 1.87c0 .87.65 1.4 2.25 1.79l1.37.33c2.55.6 3.6 1.63 3.6 3.44 0 2.33-1.85 3.78-4.79 3.78-2.75 0-4.61-1.42-4.73-3.66ZM83.35 19.3v2.14h1.72v1.47h-1.72v5c0 .77.34 1.13 1.1 1.13a5.8 5.8 0 0 0 .6-.04v1.46a5.1 5.1 0 0 1-1.02.09c-1.84 0-2.55-.7-2.55-2.45v-5.19h-1.32v-1.47h1.32V19.3ZM86.06 25.97c0-2.85 1.68-4.64 4.3-4.64s4.3 1.8 4.3 4.64c0 2.86-1.67 4.64-4.3 4.64s-4.3-1.78-4.3-4.64Zm6.7 0c0-1.95-.9-3.1-2.4-3.1s-2.4 1.15-2.4 3.1c0 1.96.9 3.1 2.4 3.1s2.4-1.14 2.4-3.1ZM96.19 21.44h1.77v1.54H98a2.16 2.16 0 0 1 2.18-1.63 2.87 2.87 0 0 1 .64.07v1.74a2.6 2.6 0 0 0-.84-.12 1.87 1.87 0 0 0-1.94 2.09v5.37H96.2ZM109.38 27.84c-.25 1.64-1.85 2.77-3.9 2.77-2.63 0-4.26-1.77-4.26-4.6 0-2.84 1.64-4.68 4.19-4.68 2.5 0 4.08 1.72 4.08 4.47v.63h-6.4v.12a2.36 2.36 0 0 0 2.44 2.56 2.05 2.05 0 0 0 2.09-1.27Zm-6.28-2.7h4.53a2.18 2.18 0 0 0-2.22-2.3 2.3 2.3 0 0 0-2.3 2.3Z"
				/>
				<path
					fill="#fff"
					d="M37.83 8.73a2.64 2.64 0 0 1 2.8 2.97c0 1.9-1.03 3-2.8 3h-2.16V8.73Zm-1.23 5.12h1.12a1.88 1.88 0 0 0 1.97-2.14 1.88 1.88 0 0 0-1.97-2.14H36.6ZM41.68 12.44a2.13 2.13 0 1 1 4.25 0 2.13 2.13 0 1 1-4.25 0Zm3.33 0c0-.97-.43-1.54-1.2-1.54-.78 0-1.21.57-1.21 1.54 0 .99.43 1.55 1.2 1.55.78 0 1.21-.57 1.21-1.55ZM51.57 14.7h-.92l-.93-3.32h-.07l-.93 3.32h-.9l-1.25-4.5h.9l.8 3.43h.07l.93-3.44h.85l.93 3.44h.07l.8-3.44h.89ZM53.85 10.2h.86v.71h.07a1.35 1.35 0 0 1 1.34-.8 1.46 1.46 0 0 1 1.56 1.67v2.92h-.9V12c0-.72-.3-1.08-.96-1.08a1.03 1.03 0 0 0-1.08 1.14v2.64h-.89ZM59.1 8.44h.88v6.26h-.89ZM61.22 12.44a2.13 2.13 0 1 1 4.25 0 2.13 2.13 0 1 1-4.25 0Zm3.33 0c0-.97-.44-1.54-1.2-1.54-.78 0-1.21.57-1.21 1.54 0 .99.43 1.55 1.2 1.55s1.21-.57 1.21-1.55ZM66.4 13.42c0-.8.6-1.27 1.68-1.34l1.22-.07v-.39c0-.47-.32-.74-.93-.74-.5 0-.84.18-.93.5h-.87c.1-.78.82-1.27 1.84-1.27 1.13 0 1.77.56 1.77 1.51v3.08h-.86v-.64h-.07a1.51 1.51 0 0 1-1.35.71 1.36 1.36 0 0 1-1.5-1.35Zm2.9-.38v-.38l-1.1.07c-.62.04-.9.26-.9.65 0 .4.35.64.83.64a1.06 1.06 0 0 0 1.17-.98ZM71.35 12.44c0-1.42.73-2.32 1.87-2.32a1.48 1.48 0 0 1 1.38.79h.06V8.44h.9v6.26h-.86v-.71h-.07a1.56 1.56 0 0 1-1.41.78c-1.15 0-1.87-.9-1.87-2.33Zm.92 0c0 .96.45 1.53 1.2 1.53s1.21-.58 1.21-1.52c0-.94-.47-1.53-1.21-1.53-.75 0-1.2.58-1.2 1.52ZM79.23 12.44a2.13 2.13 0 1 1 4.25 0 2.13 2.13 0 1 1-4.25 0Zm3.33 0c0-.97-.44-1.54-1.2-1.54-.78 0-1.21.57-1.21 1.54 0 .99.43 1.55 1.2 1.55s1.21-.57 1.21-1.55ZM84.67 10.2h.85v.71h.07a1.35 1.35 0 0 1 1.35-.8 1.46 1.46 0 0 1 1.55 1.67v2.92h-.88V12c0-.72-.32-1.08-.98-1.08a1.03 1.03 0 0 0-1.07 1.14v2.64h-.9ZM93.52 9.07v1.15h.97v.74h-.97v2.32c0 .47.19.68.63.68a2.97 2.97 0 0 0 .34-.02v.74a2.92 2.92 0 0 1-.48.04c-1 0-1.38-.35-1.38-1.21v-2.55h-.72v-.74h.72V9.07ZM95.7 8.44h.89v2.48h.07a1.39 1.39 0 0 1 1.37-.8 1.48 1.48 0 0 1 1.55 1.67v2.9h-.89v-2.68c0-.72-.34-1.08-.96-1.08a1.05 1.05 0 0 0-1.14 1.14v2.63h-.89ZM104.76 13.48a1.83 1.83 0 0 1-1.95 1.3 2.05 2.05 0 0 1-2.08-2.32 2.08 2.08 0 0 1 2.08-2.35c1.25 0 2 .85 2 2.27v.3h-3.17v.06a1.19 1.19 0 0 0 1.2 1.29 1.08 1.08 0 0 0 1.07-.55Zm-3.12-1.45h2.27a1.09 1.09 0 0 0-1.1-1.17 1.15 1.15 0 0 0-1.17 1.17Z"
				/>
			</svg>
		</a>
	);
};
