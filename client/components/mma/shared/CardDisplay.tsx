import type { SerializedStyles } from '@emotion/react';
import { css } from '@emotion/react';
import { palette } from '@guardian/source-foundations';
import type { Inlineable } from './inlineable';

interface CardExpiryDetails {
	month: number;
	year: number;
}
export interface CardProps {
	last4: string;
	expiry?: CardExpiryDetails;
	type: string;
	stripePublicKeyForUpdate?: string;
}

interface CardDisplayProps extends CardProps, Inlineable {
	cssOverrides?: SerializedStyles;
	inErrorState?: boolean;
}

const svgStyles = css`
	width: 35px;
	height: 22px;
	& + & {
		margin-left: 3px;
	}
`;

export const cardTypeToSVG = (
	cardType: string,
	styleOverrides?: SerializedStyles,
) => {
	const styles = { ...svgStyles, ...styleOverrides };

	const backgroundImage: JSX.Element | undefined | null = (() => {
		switch (cardType.toLowerCase().replace(/\s/g, '')) {
			case 'mastercard':
				return (
					<svg
						css={styles}
						width="37"
						height="23"
						viewBox="0 0 37 23"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M32.8147 0.410156H3.31545C1.55773 0.410156 0.132812 1.83689 0.132812 3.59684V19.1019C0.132812 20.8619 1.55773 22.2886 3.31545 22.2886H32.8147C34.5725 22.2886 35.9974 20.8619 35.9974 19.1019V3.59684C35.9974 1.83689 34.5725 0.410156 32.8147 0.410156Z"
							fill="white"
						/>
						<path
							d="M19.1765 5.57262C18.853 5.16066 18.4816 4.78878 18.0702 4.46484C17.2863 5.08196 16.6526 5.86924 16.2168 6.76731C15.7811 7.66538 15.5547 8.65079 15.5547 9.64923C15.5547 10.6477 15.7811 11.6331 16.2168 12.5312C16.6526 13.4292 17.2863 14.2165 18.0702 14.8336C18.7502 14.2983 19.3182 13.6341 19.7418 12.879C20.1654 12.1238 20.4363 11.2925 20.539 10.4326C20.6417 9.57259 20.5743 8.70077 20.3405 7.8669C20.1068 7.03303 19.7112 6.25343 19.1765 5.57262Z"
							fill="#FF5F00"
						/>
						<path
							d="M32.822 0.546474C33.628 0.548428 34.4004 0.870129 34.9699 1.44112C35.5395 2.01211 35.8599 2.78584 35.8608 3.59285V19.1017C35.8599 19.9087 35.5395 20.6824 34.9699 21.2534C34.4004 21.8244 33.628 22.1461 32.822 22.148H3.31908C2.51182 22.148 1.73758 21.8272 1.16641 21.256C0.595248 20.6848 0.273879 19.91 0.272901 19.1017V3.59285C0.273879 2.78456 0.595248 2.00971 1.16641 1.43851C1.73758 0.867312 2.51182 0.546474 3.31908 0.546474H32.822ZM32.822 0.269531H3.31908C2.43881 0.269531 1.59459 0.619666 0.972137 1.24291C0.349688 1.86615 0 2.71145 0 3.59285V19.1017C0 19.9831 0.349688 20.8284 0.972137 21.4516C1.59459 22.0749 2.43881 22.425 3.31908 22.425H32.822C33.7023 22.425 34.5465 22.0749 35.169 21.4516C35.7914 20.8284 36.1411 19.9831 36.1411 19.1017V3.59285C36.1411 2.71145 35.7914 1.86615 35.169 1.24291C34.5465 0.619666 33.7023 0.269531 32.822 0.269531V0.269531Z"
							fill="#999999"
						/>
						<path
							d="M25.5012 17.7588C25.4083 17.7568 25.3166 17.7796 25.2355 17.8251C25.1544 17.8705 25.087 17.9369 25.0402 18.0173V17.8032H24.6714V19.5534H25.0402V18.5712C25.0402 18.2832 25.1656 18.1207 25.409 18.1207C25.4909 18.1207 25.5722 18.1357 25.6487 18.165L25.7667 17.7958C25.6789 17.7652 25.5868 17.749 25.4938 17.7478L25.5012 17.7588ZM20.2165 17.7588C20.1236 17.7568 20.0318 17.7796 19.9508 17.8251C19.8697 17.8705 19.8023 17.9369 19.7555 18.0173V17.8032H19.3867V19.5534H19.7555V18.5712C19.7555 18.2832 19.8809 18.1207 20.1243 18.1207C20.2051 18.1204 20.2852 18.1354 20.3603 18.165L20.4783 17.7958C20.3905 17.7652 20.2984 17.749 20.2054 17.7478L20.2165 17.7588ZM23.7827 18.0173C23.718 17.9338 23.6345 17.8668 23.539 17.8219C23.4434 17.777 23.3386 17.7554 23.2332 17.7588C22.9886 17.7588 22.7541 17.8561 22.5812 18.0292C22.4083 18.2023 22.3112 18.4372 22.3112 18.682C22.3112 18.9268 22.4083 19.1616 22.5812 19.3347C22.7541 19.5079 22.9886 19.6051 23.2332 19.6051C23.3382 19.6085 23.4427 19.5871 23.5381 19.5429C23.6335 19.4987 23.7172 19.4327 23.7827 19.3503V19.5608H24.1514V17.8032H23.7827V18.0173ZM23.2774 19.2359C23.141 19.2379 23.0092 19.1866 22.91 19.0928C22.8108 18.999 22.7521 18.8702 22.7464 18.7337V18.6931C22.7559 18.553 22.8199 18.4222 22.9248 18.329C23.0296 18.2357 23.1669 18.1875 23.3069 18.1946C23.4398 18.2088 23.5624 18.2726 23.6504 18.3734C23.7383 18.4741 23.7851 18.6044 23.7814 18.7381C23.7776 18.8719 23.7237 18.9993 23.6303 19.095C23.5369 19.1906 23.4109 19.2476 23.2774 19.2543V19.2359ZM21.522 18.1096C21.6873 18.1133 21.8472 18.1688 21.9793 18.2684L22.1637 17.9619C21.9873 17.8151 21.7622 17.7399 21.5331 17.7515C21.2991 17.7393 21.0698 17.8202 20.8951 17.9765C20.7203 18.1328 20.6143 18.3518 20.6 18.586V18.6746C20.5956 18.7908 20.6141 18.9068 20.6546 19.0158C20.6951 19.1248 20.7567 19.2247 20.8358 19.3098C20.915 19.3949 21.0102 19.4635 21.1159 19.5117C21.2216 19.5598 21.3358 19.5866 21.4519 19.5904H21.5331C21.7615 19.6015 21.9861 19.5279 22.1637 19.3836L21.9793 19.0734C21.8472 19.173 21.6873 19.2285 21.522 19.2322C21.3908 19.2107 21.2715 19.1431 21.1854 19.0417C21.0993 18.9402 21.0521 18.8114 21.0521 18.6783C21.0521 18.5452 21.0993 18.4164 21.1854 18.3149C21.2715 18.2135 21.3908 18.1459 21.522 18.1244V18.1096ZM28.3962 19.4722C28.4005 19.4615 28.4005 19.4496 28.3962 19.439C28.3994 19.4334 28.4011 19.427 28.4011 19.4205C28.4011 19.414 28.3994 19.4077 28.3962 19.402C28.3806 19.3967 28.3638 19.3967 28.3482 19.402H28.2708V19.5608H28.3077V19.5017L28.3556 19.5608H28.3962L28.3409 19.5017C28.3519 19.5025 28.363 19.5002 28.3728 19.4949C28.3826 19.4897 28.3907 19.4818 28.3962 19.4722ZM28.304 19.4722V19.4279H28.3667C28.3633 19.4298 28.3595 19.4309 28.3556 19.4309C28.3517 19.4309 28.3479 19.4298 28.3446 19.4279L28.304 19.4722ZM27.323 18.0173C27.2583 17.9338 27.1748 17.8668 27.0793 17.8219C26.9838 17.777 26.879 17.7554 26.7735 17.7588C26.529 17.7588 26.2945 17.8561 26.1216 18.0292C25.9487 18.2023 25.8516 18.4372 25.8516 18.682C25.8516 18.9268 25.9487 19.1616 26.1216 19.3347C26.2945 19.5079 26.529 19.6051 26.7735 19.6051C26.8786 19.6085 26.983 19.5871 27.0784 19.5429C27.1738 19.4987 27.2576 19.4327 27.323 19.3503V19.5608H27.6918V17.1016H27.323V18.0173ZM26.8104 19.2396C26.6736 19.2406 26.5418 19.1885 26.4427 19.0941C26.3437 18.9997 26.2851 18.8705 26.2793 18.7337V18.6931C26.2851 18.5894 26.3211 18.4896 26.3828 18.4061C26.4446 18.3227 26.5294 18.2591 26.6268 18.2234C26.7242 18.1876 26.8299 18.1812 26.9309 18.2049C27.0319 18.2287 27.1238 18.2815 27.1951 18.3569C27.2664 18.4323 27.3142 18.527 27.3324 18.6293C27.3506 18.7315 27.3385 18.8369 27.2976 18.9323C27.2567 19.0278 27.1887 19.1091 27.1021 19.1664C27.0156 19.2236 26.9141 19.2542 26.8104 19.2543V19.2396Z"
							fill="#231F20"
						/>
						<path
							d="M28.4499 19.3476C28.4349 19.3308 28.4159 19.3181 28.3946 19.3107C28.3728 19.3055 28.35 19.3055 28.3282 19.3107C28.3039 19.3051 28.2787 19.3051 28.2545 19.3107C28.2328 19.3172 28.2135 19.3301 28.1991 19.3476C28.1826 19.3622 28.1688 19.3797 28.1586 19.3993C28.1495 19.4209 28.1449 19.4441 28.1449 19.4676C28.1449 19.491 28.1495 19.5143 28.1586 19.5359C28.1729 19.5679 28.1962 19.5951 28.2256 19.6141C28.2551 19.6332 28.2895 19.6432 28.3245 19.643C28.3476 19.6482 28.3715 19.6482 28.3946 19.643C28.4152 19.6342 28.4339 19.6217 28.4499 19.6061C28.4674 19.5909 28.4813 19.5719 28.4905 19.5507C28.4995 19.529 28.5042 19.5058 28.5042 19.4824C28.5042 19.4589 28.4995 19.4357 28.4905 19.414C28.4819 19.3892 28.4681 19.3665 28.4499 19.3476V19.3476ZM28.4204 19.5654C28.4072 19.5774 28.3923 19.5873 28.3762 19.595C28.3604 19.5984 28.344 19.5984 28.3282 19.595C28.31 19.5992 28.2911 19.5992 28.2729 19.595C28.2556 19.5897 28.2402 19.5794 28.2286 19.5654C28.2058 19.5409 28.1931 19.5085 28.1931 19.475C28.1931 19.4414 28.2058 19.4091 28.2286 19.3845C28.2392 19.3695 28.255 19.359 28.2729 19.355C28.2891 19.3476 28.3067 19.3438 28.3245 19.3438C28.3423 19.3438 28.3599 19.3476 28.3762 19.355C28.3937 19.3598 28.4092 19.3702 28.4204 19.3845C28.4432 19.4091 28.4559 19.4414 28.4559 19.475C28.4559 19.5085 28.4432 19.5409 28.4204 19.5654V19.5654ZM28.3245 19.2959H28.3319H28.3245ZM10.6965 17.7561H10.6117C10.4907 17.7484 10.37 17.773 10.2617 17.8276C10.1535 17.8821 10.0617 17.9645 9.99578 18.0663C9.93671 17.9674 9.85206 17.8864 9.75079 17.8318C9.64952 17.7772 9.53538 17.7511 9.42047 17.7561C9.3195 17.7505 9.21885 17.7718 9.1288 17.8179C9.03874 17.8639 8.9625 17.9331 8.90785 18.0183V17.8004H8.53906V19.5507H8.90785V18.5869C8.90067 18.5322 8.90461 18.4766 8.91943 18.4234C8.93424 18.3702 8.95963 18.3206 8.99407 18.2775C9.02851 18.2344 9.07129 18.1987 9.11985 18.1725C9.1684 18.1464 9.22173 18.1303 9.27664 18.1253H9.35409C9.60486 18.1253 9.72287 18.2915 9.72287 18.5869V19.5618H10.0917V18.5869C10.0845 18.5322 10.0884 18.4766 10.1032 18.4234C10.118 18.3702 10.1434 18.3206 10.1779 18.2775C10.2123 18.2344 10.2551 18.1987 10.3037 18.1725C10.3522 18.1464 10.4055 18.1303 10.4604 18.1253H10.5342C10.796 18.1253 10.903 18.2915 10.903 18.5869V19.5618H11.2902V18.454C11.3015 18.2831 11.2458 18.1146 11.1349 17.9843C11.024 17.8539 10.8667 17.7721 10.6965 17.7561ZM16.5971 19.2405C16.4164 19.2405 16.3463 19.1223 16.3463 18.9451V18.1475H16.9659V17.8004H16.3389V17.2539H15.9701V17.7856H15.6235V18.1327H15.9923V18.9525C15.9923 19.3624 16.1472 19.6024 16.5971 19.6024C16.7653 19.6026 16.9303 19.5553 17.0728 19.4657L16.9659 19.1408C16.8548 19.2083 16.727 19.2429 16.5971 19.2405ZM14.7531 18.4983L14.5724 18.4761C14.4065 18.454 14.2774 18.4208 14.2774 18.3026C14.2774 18.1844 14.3991 18.0958 14.6093 18.0958C14.8022 18.0998 14.991 18.1518 15.1588 18.2472L15.3248 17.9407C15.1102 17.812 14.863 17.7479 14.613 17.7561C14.1705 17.7561 13.8754 17.9703 13.8754 18.3174C13.8754 18.6017 14.0893 18.7789 14.4802 18.8343L14.6646 18.8602C14.8711 18.8897 14.9707 18.9414 14.9707 19.0411C14.9707 19.1408 14.8306 19.2553 14.5724 19.2553C14.3631 19.2601 14.1582 19.1952 13.9897 19.0706L13.809 19.3697C14.0304 19.5241 14.2954 19.603 14.5651 19.595C15.0703 19.595 15.3616 19.3587 15.3616 19.0226C15.3616 18.6866 15.1219 18.5537 14.7531 18.4983V18.4983ZM13.0567 18.0146C12.9923 17.9308 12.9088 17.8637 12.8132 17.8187C12.7176 17.7738 12.6127 17.7523 12.5072 17.7561C12.2627 17.7561 12.0282 17.8534 11.8553 18.0265C11.6824 18.1996 11.5853 18.4344 11.5853 18.6792C11.5853 18.9241 11.6824 19.1589 11.8553 19.332C12.0282 19.5051 12.2627 19.6024 12.5072 19.6024C12.6123 19.606 12.7168 19.5848 12.8123 19.5405C12.9077 19.4963 12.9915 19.4302 13.0567 19.3476V19.5581H13.4255V17.8004H13.0567V18.0146ZM12.5404 19.2368C12.4012 19.2388 12.2668 19.1855 12.1666 19.0887C12.0664 18.9918 12.0086 18.8593 12.0057 18.7199V18.6755C12.0114 18.572 12.0473 18.4724 12.1089 18.389C12.1705 18.3056 12.2551 18.242 12.3523 18.2062C12.4495 18.1703 12.555 18.1637 12.6559 18.1871C12.7568 18.2106 12.8487 18.263 12.9202 18.3381C12.9917 18.4131 13.0397 18.5075 13.0583 18.6095C13.0769 18.7115 13.0653 18.8168 13.025 18.9123C12.9846 19.0078 12.9172 19.0894 12.8311 19.1471C12.745 19.2047 12.644 19.2359 12.5404 19.2368V19.2368ZM18.1644 17.7598C17.9199 17.7632 17.6868 17.8638 17.5163 18.0393C17.3458 18.2149 17.2519 18.451 17.2554 18.6958C17.2588 18.9407 17.3592 19.1741 17.5345 19.3448C17.7098 19.5155 17.9457 19.6095 18.1902 19.6061C18.4571 19.6238 18.7208 19.5393 18.9278 19.3697L18.7471 19.0854C18.6026 19.2017 18.4236 19.2666 18.2382 19.27C18.1736 19.2766 18.1084 19.2702 18.0464 19.2512C17.9843 19.2322 17.9267 19.201 17.8769 19.1594C17.827 19.1177 17.786 19.0666 17.7562 19.0088C17.7265 18.9511 17.7085 18.888 17.7034 18.8232H19.0016V18.6755C19.0136 18.5589 19.0007 18.441 18.964 18.3297C18.9272 18.2183 18.8673 18.1161 18.7882 18.0296C18.7092 17.9431 18.6127 17.8743 18.5052 17.8278C18.3977 17.7813 18.2815 17.7581 18.1644 17.7598V17.7598ZM18.5996 18.5205H17.7034C17.711 18.4032 17.7637 18.2935 17.8503 18.2144C17.9369 18.1352 18.0508 18.0927 18.1681 18.0958C18.2251 18.0943 18.2818 18.1042 18.3349 18.1248C18.3881 18.1454 18.4366 18.1763 18.4778 18.2158C18.5189 18.2553 18.5519 18.3025 18.5747 18.3548C18.5975 18.4071 18.6097 18.4634 18.6107 18.5205H18.5996Z"
							fill="#231F20"
						/>
						<path
							d="M15.5507 9.64682C15.5524 8.65081 15.7796 7.66813 16.2152 6.77271C16.6508 5.87729 17.2836 5.09244 18.0659 4.47719C17.0946 3.71366 15.9284 3.23908 14.7005 3.10765C13.4726 2.97623 12.2326 3.19327 11.1221 3.73398C10.0115 4.27469 9.0753 5.11727 8.4203 6.16545C7.76531 7.21363 7.41797 8.42514 7.41797 9.66159C7.41797 10.898 7.76531 12.1096 8.4203 13.1577C9.0753 14.2059 10.0115 15.0485 11.1221 15.5892C12.2326 16.1299 13.4726 16.3469 14.7005 16.2155C15.9284 16.0841 17.0946 15.6095 18.0659 14.846C17.2799 14.2275 16.6449 13.4378 16.2091 12.537C15.7733 11.6362 15.5482 10.6478 15.5507 9.64682V9.64682Z"
							fill="#EB001B"
						/>
						<path
							d="M27.3118 5.56769C26.2322 4.19373 24.6518 3.30525 22.9181 3.09752C21.1845 2.8898 19.4394 3.37983 18.0664 4.45992C18.8509 5.07662 19.4852 5.86375 19.9214 6.76187C20.3576 7.65999 20.5842 8.64561 20.5842 9.64428C20.5842 10.643 20.3576 11.6286 19.9214 12.5267C19.4852 13.4248 18.8509 14.2119 18.0664 14.8286C19.0371 15.5918 20.2023 16.0665 21.4293 16.1988C22.6564 16.331 23.8958 16.1154 25.0064 15.5765C26.117 15.0376 27.0541 14.1972 27.7108 13.1509C28.3675 12.1047 28.7174 10.8947 28.7206 9.65905C28.7252 8.17523 28.2287 6.73342 27.3118 5.56769V5.56769ZM28.374 13.6544L28.2965 13.4735H28.2375V13.7283H28.2854V13.5362L28.3555 13.7024H28.4035L28.4772 13.5362V13.7283H28.5141V13.4735H28.4477L28.374 13.6544V13.6544ZM28.1785 13.4735H27.9609V13.5178H28.0531V13.7283H28.0937V13.5178H28.1785V13.4735Z"
							fill="#F79E1B"
						/>
					</svg>
				);
			case 'visa':
				return (
					<svg
						css={styles}
						width="37"
						height="23"
						viewBox="0 0 37 23"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M33.0979 0.257812H3.59864C1.84093 0.257812 0.416016 1.69368 0.416016 3.46492V19.0694C0.416016 20.8406 1.84093 22.2765 3.59864 22.2765H33.0979C34.8556 22.2765 36.2805 20.8406 36.2805 19.0694V3.46492C36.2805 1.69368 34.8556 0.257812 33.0979 0.257812Z"
							fill="white"
						/>
						<path
							d="M33.1072 0.534756C33.9119 0.538657 34.6824 0.861218 35.2503 1.432C35.8183 2.00277 36.1376 2.7754 36.1386 3.58113V19.09C36.1376 19.8957 35.8183 20.6683 35.2503 21.2391C34.6824 21.8099 33.9119 22.1324 33.1072 22.1363H3.60424C3.2039 22.1373 2.80729 22.0592 2.4371 21.9066C2.06691 21.754 1.7304 21.5298 1.4468 21.2469C1.1632 20.964 0.938085 20.6278 0.784322 20.2577C0.630559 19.8876 0.551166 19.4908 0.550683 19.09V3.58113C0.551166 3.18028 0.630559 2.78345 0.784322 2.41335C0.938085 2.04324 1.1632 1.70711 1.4468 1.42418C1.7304 1.14125 2.06691 0.917068 2.4371 0.764453C2.80729 0.611838 3.2039 0.533785 3.60424 0.534756H33.1072ZM33.1072 0.257812H3.60424C2.72396 0.257813 1.87974 0.607947 1.25729 1.23119C0.634844 1.85443 0.285156 2.69973 0.285156 3.58113V19.09C0.285156 19.9714 0.634844 20.8167 1.25729 21.4399C1.87974 22.0631 2.72396 22.4133 3.60424 22.4133H33.1072C33.9875 22.4133 34.8317 22.0631 35.4541 21.4399C36.0766 20.8167 36.4263 19.9714 36.4263 19.09V3.58113C36.4263 2.69973 36.0766 1.85443 35.4541 1.23119C34.8317 0.607947 33.9875 0.257813 33.1072 0.257813V0.257812Z"
							fill="#999999"
						/>
						<path
							d="M17.5819 7.15942L15.7933 15.5342H13.6285L15.406 7.15942H17.5819ZM26.6909 12.569L27.8305 9.42296L28.4869 12.569H26.6909ZM29.1065 15.5231H31.1053L29.3609 7.15942H27.517C27.3196 7.15682 27.1259 7.21393 26.9614 7.32329C26.7969 7.43266 26.6692 7.58918 26.595 7.77239L23.346 15.5268H25.6177L26.0677 14.2898H28.8446L29.1065 15.5231ZM23.4566 12.8127C23.4566 10.5972 20.4031 10.479 20.4215 9.48943C20.4215 9.19033 20.7166 8.86908 21.3398 8.78784C22.0718 8.71646 22.8094 8.84402 23.4751 9.1571L23.8439 7.38097C23.1967 7.13697 22.5108 7.01188 21.8192 7.01172C19.6803 7.01172 18.1756 8.15272 18.1609 9.78114C18.1609 10.9886 19.2377 11.6607 20.0564 12.0631C20.8751 12.4656 21.1628 12.7352 21.1628 13.1008C21.1628 13.6657 20.4916 13.9131 19.8684 13.9242C19.0977 13.9379 18.3362 13.7549 17.6556 13.3925L17.2647 15.2387C18.0324 15.5375 18.8493 15.6891 19.6729 15.6855C21.9446 15.6855 23.4345 14.5778 23.4419 12.8201L23.4566 12.8127ZM14.4914 7.15942L10.9806 15.5342H8.69412L6.9682 8.85061C6.95342 8.69376 6.89847 8.54338 6.80868 8.41401C6.71888 8.28464 6.59726 8.18065 6.45559 8.1121C5.77557 7.78812 5.05847 7.54878 4.32031 7.39944L4.37194 7.15942H8.05981C8.29951 7.16008 8.5311 7.24635 8.71295 7.40271C8.8948 7.55906 9.01497 7.77526 9.05184 8.0124L9.96275 12.8607L12.216 7.15942H14.4914Z"
							fill="#1A1F70"
						/>
					</svg>
				);
			case 'amex':
			case 'americanexpress':
				return (
					<svg
						css={styles}
						width="37"
						height="23"
						viewBox="0 0 37 23"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M33.5335 0.414062H4.03419C2.27647 0.414062 0.851562 1.84079 0.851562 3.60075V19.1059C0.851562 20.8658 2.27647 22.2925 4.03419 22.2925H33.5335C35.2912 22.2925 36.7161 20.8658 36.7161 19.1059V3.60075C36.7161 1.84079 35.2912 0.414062 33.5335 0.414062Z"
							fill="white"
						/>
						<path
							d="M33.533 0.550381C34.3396 0.551358 35.1129 0.872628 35.6833 1.44372C36.2536 2.01482 36.5745 2.78911 36.5755 3.59676V19.1056C36.5745 19.9132 36.2536 20.6875 35.6833 21.2586C35.1129 21.8297 34.3396 22.151 33.533 22.152H4.03002C3.2234 22.151 2.4501 21.8297 1.87973 21.2586C1.30937 20.6875 0.988504 19.9132 0.987528 19.1056V3.59676C0.988504 2.78911 1.30937 2.01482 1.87973 1.44372C2.4501 0.872628 3.2234 0.551358 4.03002 0.550381H33.533ZM33.533 0.273438H4.03002C3.14974 0.273438 2.30553 0.623572 1.68308 1.24681C1.06063 1.87006 0.710938 2.71536 0.710938 3.59676V19.1056C0.710938 19.987 1.06063 20.8323 1.68308 21.4555C2.30553 22.0788 3.14974 22.4289 4.03002 22.4289H33.533C34.4132 22.4289 35.2575 22.0788 35.8799 21.4555C36.5024 20.8323 36.8521 19.987 36.8521 19.1056V3.59676C36.8521 2.71536 36.5024 1.87006 35.8799 1.24681C35.2575 0.623572 34.4132 0.273438 33.533 0.273438V0.273438Z"
							fill="#999999"
						/>
						<path
							d="M21.954 10.854V7.41253H21.0357V10.854H21.954ZM19.638 9.6096C19.8959 9.56962 20.1308 9.43781 20.2995 9.23839C20.4681 9.03896 20.5593 8.78531 20.5563 8.52399C20.5563 7.86302 20.0842 7.41622 19.3282 7.41622H17.3367V10.8577H18.255V9.65022H18.5906L19.638 10.854H20.7775L19.638 9.6096ZM19.2176 8.88955H18.255V8.19535H19.2176C19.4941 8.19535 19.6306 8.35782 19.6306 8.54245C19.6306 8.72708 19.4941 8.88955 19.2176 8.88955ZM24.1114 10.854H24.4248L24.7936 10.0749H24.2552C24.1333 10.0866 24.0103 10.071 23.8952 10.0291C23.7801 9.98721 23.6759 9.92012 23.59 9.83271C23.5041 9.74531 23.4388 9.63981 23.3988 9.52391C23.3589 9.40801 23.3453 9.28463 23.359 9.1628V9.10003C23.3478 8.98196 23.3626 8.86287 23.4024 8.75118C23.4422 8.63948 23.5061 8.53793 23.5895 8.45372C23.6729 8.36951 23.7738 8.30469 23.885 8.26387C23.9962 8.22305 24.1151 8.20722 24.2331 8.2175H25.2546V7.41253H24.1482C23.9205 7.39214 23.691 7.42155 23.4757 7.49873C23.2604 7.5759 23.0644 7.699 22.9013 7.85949C22.7382 8.01998 22.6119 8.21404 22.5311 8.42824C22.4503 8.64243 22.417 8.87165 22.4334 9.10003V9.16649C22.4132 9.39253 22.4427 9.62026 22.5197 9.83367C22.5968 10.0471 22.7196 10.241 22.8795 10.4018C23.0395 10.5627 23.2326 10.6865 23.4454 10.7646C23.6582 10.8427 23.8855 10.8732 24.1114 10.854ZM5.80478 7.41253L4.28906 10.854H5.29954L5.59088 10.1561H7.18035L7.47538 10.854H8.51167L6.99596 7.41253H5.80478ZM5.90435 9.39912L6.38746 8.24704L6.86688 9.39912H5.90435ZM9.58853 8.37628L10.4994 10.854H11.3144L12.2217 8.37628V10.854H13.1289V7.41253H11.698L10.9162 9.58006L10.1306 7.41253H8.685V10.854H9.58853V8.37628ZM16.7393 10.0749H14.7479V9.52098H16.6877V8.73815H14.7479V8.19535H16.7393V7.41253H13.8296V10.854H16.7393V10.0749ZM25.8668 10.854L26.1544 10.1561H27.7476L28.0426 10.854H29.0789L27.5595 7.41253H26.372L24.8526 10.854H25.8668ZM26.951 8.24704L27.4341 9.39912H26.4716L26.951 8.24704ZM30.1631 8.67538L31.6088 10.854H32.7188V7.41253H31.8116V9.51359L30.4102 7.41253H29.2522V10.854H30.1631V8.67538ZM28.7839 13.1692H27.9394C27.8998 13.1758 27.8592 13.1736 27.8205 13.1629C27.7819 13.1522 27.746 13.1331 27.7154 13.1071C27.6848 13.0811 27.6602 13.0488 27.6433 13.0123C27.6265 12.9759 27.6178 12.9362 27.6178 12.896C27.6178 12.8558 27.6265 12.8161 27.6433 12.7796C27.6602 12.7432 27.6848 12.7108 27.7154 12.6848C27.746 12.6588 27.7819 12.6398 27.8205 12.6291C27.8592 12.6184 27.8998 12.6162 27.9394 12.6227H29.4735L29.8423 11.8436H27.9504C27.1686 11.8436 26.7224 12.3052 26.7224 12.9255C26.7153 13.0693 26.7398 13.2128 26.7941 13.3461C26.8484 13.4794 26.9311 13.5992 27.0366 13.697C27.142 13.7948 27.2676 13.8684 27.4044 13.9124C27.5413 13.9565 27.6861 13.97 27.8287 13.9521H28.6732C28.712 13.9475 28.7513 13.9513 28.7885 13.9631C28.8257 13.9748 28.86 13.9944 28.8891 14.0203C28.9182 14.0463 28.9415 14.0782 28.9575 14.1138C28.9735 14.1495 28.9817 14.1881 28.9817 14.2271C28.9817 14.2662 28.9735 14.3048 28.9575 14.3405C28.9415 14.3761 28.9182 14.408 28.8891 14.434C28.86 14.4599 28.8257 14.4794 28.7885 14.4912C28.7513 14.503 28.712 14.5067 28.6732 14.5022H26.8293V15.2851H28.6732C29.444 15.2851 29.9013 14.8346 29.9013 14.1773C29.9013 13.52 29.4735 13.1692 28.7839 13.1692ZM22.9312 12.9551C22.9312 12.2941 22.4592 11.8473 21.7032 11.8473H19.7154V15.2888H20.6226V14.0813H20.9545L22.0019 15.2851H23.1414L22.0019 14.0407C22.2622 14.0039 22.5001 13.8733 22.6712 13.6735C22.8423 13.4737 22.9347 13.2182 22.9312 12.9551ZM21.5962 13.3243H20.6226V12.6227H21.5852C21.8581 12.6227 21.9982 12.7852 21.9982 12.9735C21.9982 13.1618 21.8691 13.3169 21.5962 13.3169V13.3243ZM23.4144 15.2851H26.3241V14.5022H24.3326V13.9521H26.2724V13.1692H24.3326V12.6227H26.3241V11.8436H23.4144V15.2851ZM18.0928 11.8436H16.0792V15.2851H16.9975V14.1773H18.0632C18.2238 14.1929 18.3859 14.1744 18.5389 14.123C18.6918 14.0716 18.8322 13.9885 18.9509 13.8791C19.0696 13.7696 19.1639 13.6364 19.2276 13.488C19.2914 13.3396 19.3231 13.1794 19.3208 13.0178C19.3316 12.856 19.3067 12.6938 19.248 12.5427C19.1892 12.3916 19.0981 12.2552 18.981 12.1432C18.8638 12.0312 18.7236 11.9464 18.5701 11.8946C18.4166 11.8428 18.2537 11.8254 18.0928 11.8436ZM17.9858 13.3834H16.9975V12.6227H17.9858C18.0866 12.6227 18.1832 12.6628 18.2544 12.7341C18.3256 12.8055 18.3657 12.9022 18.3657 13.0031C18.3657 13.1039 18.3256 13.2007 18.2544 13.272C18.1832 13.3433 18.0866 13.3834 17.9858 13.3834ZM32.162 13.1692H31.3175C31.2779 13.1758 31.2373 13.1736 31.1986 13.1629C31.16 13.1522 31.1241 13.1331 31.0935 13.1071C31.0629 13.0811 31.0383 13.0488 31.0214 13.0123C31.0046 12.9759 30.9958 12.9362 30.9958 12.896C30.9958 12.8558 31.0046 12.8161 31.0214 12.7796C31.0383 12.7432 31.0629 12.7108 31.0935 12.6848C31.1241 12.6588 31.16 12.6398 31.1986 12.6291C31.2373 12.6184 31.2779 12.6162 31.3175 12.6227H32.8479L33.2167 11.8436H31.3175C30.5356 11.8436 30.0894 12.3052 30.0894 12.9255C30.0823 13.0693 30.1068 13.2128 30.1611 13.3461C30.2154 13.4794 30.2982 13.5992 30.4036 13.697C30.509 13.7948 30.6346 13.8684 30.7714 13.9124C30.9083 13.9565 31.0531 13.97 31.1958 13.9521H32.055C32.0938 13.9475 32.133 13.9513 32.1702 13.9631C32.2074 13.9748 32.2417 13.9944 32.2709 14.0203C32.3 14.0463 32.3233 14.0782 32.3393 14.1138C32.3552 14.1495 32.3635 14.1881 32.3635 14.2271C32.3635 14.2662 32.3552 14.3048 32.3393 14.3405C32.3233 14.3761 32.3 14.408 32.2709 14.434C32.2417 14.4599 32.2074 14.4794 32.1702 14.4912C32.133 14.503 32.0938 14.5067 32.055 14.5022H30.2111V15.2851H32.055C32.8258 15.2851 33.2831 14.8346 33.2831 14.1773C33.2831 13.52 32.8664 13.1692 32.162 13.1692ZM8.685 15.2851H11.5947V14.5022H9.60328V13.9521H11.5468V13.1692H9.60328V12.6227H11.5947V11.8436H8.685V15.2851ZM15.9132 11.8436H14.7442L13.848 12.8812L12.9556 11.8436H11.757L13.269 13.5459L11.7275 15.2851H12.8965L13.8333 14.1921L14.7737 15.2851H15.9722L14.4196 13.5237L15.9132 11.8436Z"
							fill="#286DB6"
						/>
					</svg>
				);
			default:
				return null;
		}
	})();

	return backgroundImage || null;
};

export const CardDisplay = (props: CardDisplayProps) => {
	const styles = css`
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		margin: 10px;
	`;

	return (
		<div
			aria-label={props.type}
			css={css`
				${styles}
				${props.cssOverrides}
			`}
		>
			{cardTypeToSVG(props.type)}{' '}
			<span
				css={css`
					margin-left: 3px;
					color: ${props.inErrorState
						? palette.error[400]
						: palette.neutral[7]};
				`}
			>
				ending {props.last4}
			</span>
		</div>
	);
};
